{"version":3,"file":"src_app_collection-page_collection-page-routes_ts.js","mappings":"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","sources":["./src/app/collection-page/collection-form/collection-form.component.ts","./src/app/shared/comcol/comcol-forms/comcol-form/comcol-form.component.html","./src/app/collection-page/collection-form/collection-form.models.ts","./src/app/collection-page/collection-page-administrator.guard.ts","./src/app/collection-page/collection-page-routes.ts","./src/app/collection-page/collection-page.component.ts","./src/app/collection-page/collection-page.component.html","./src/app/collection-page/create-collection-page/create-collection-page.component.ts","./src/app/collection-page/create-collection-page/create-collection-page.component.html","./src/app/collection-page/create-collection-page/create-collection-page.guard.ts","./src/app/collection-page/delete-collection-page/delete-collection-page.component.ts","./src/app/collection-page/delete-collection-page/delete-collection-page.component.html","./src/app/collection-page/edit-item-template-page/edit-item-template-page.component.ts","./src/app/collection-page/edit-item-template-page/edit-item-template-page.component.html","./src/app/collection-page/edit-item-template-page/item-template-page.resolver.ts","./src/app/collection-page/edit-item-template-page/themed-edit-item-template-page.component.ts","./src/app/shared/theme-support/themed.component.html","./src/app/collection-page/themed-collection-page.component.ts","./src/app/core/breadcrumbs/collection-breadcrumb.resolver.ts","./src/app/core/data/item-template-data.service.ts","./src/themes/ lazy ^\\.\\/.*\\/app\\/collection\\-page\\/collection\\-page\\.component$ namespace object","./src/themes/ lazy ^\\.\\/.*\\/app\\/collection\\-page\\/edit\\-item\\-template\\-page\\/edit\\-item\\-template\\-page\\.component$ namespace object"],"sourcesContent":["import {\n  AsyncPipe,\n  NgClass,\n  NgIf,\n} from '@angular/common';\nimport {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChange,\n  SimpleChanges,\n} from '@angular/core';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport {\n  DynamicFormControlModel,\n  DynamicFormOptionConfig,\n  DynamicFormService,\n  DynamicSelectModel,\n} from '@ng-dynamic-forms/core';\nimport {\n  TranslateModule,\n  TranslateService,\n} from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport {\n  hasNoValue,\n  isNotNull,\n} from 'src/app/shared/empty.util';\n\nimport { AuthService } from '../../core/auth/auth.service';\nimport { ObjectCacheService } from '../../core/cache/object-cache.service';\nimport { CollectionDataService } from '../../core/data/collection-data.service';\nimport { EntityTypeDataService } from '../../core/data/entity-type-data.service';\nimport { RequestService } from '../../core/data/request.service';\nimport { Collection } from '../../core/shared/collection.model';\nimport { ItemType } from '../../core/shared/item-relationships/item-type.model';\nimport { NONE_ENTITY_TYPE } from '../../core/shared/item-relationships/item-type.resource-type';\nimport { MetadataValue } from '../../core/shared/metadata.models';\nimport { getFirstSucceededRemoteListPayload } from '../../core/shared/operators';\nimport { ComColFormComponent } from '../../shared/comcol/comcol-forms/comcol-form/comcol-form.component';\nimport { ComcolPageLogoComponent } from '../../shared/comcol/comcol-page-logo/comcol-page-logo.component';\nimport { FormComponent } from '../../shared/form/form.component';\nimport { NotificationsService } from '../../shared/notifications/notifications.service';\nimport { UploaderComponent } from '../../shared/upload/uploader/uploader.component';\nimport { VarDirective } from '../../shared/utils/var.directive';\nimport {\n  collectionFormEntityTypeSelectionConfig,\n  collectionFormModels,\n} from './collection-form.models';\n\n/**\n * Form used for creating and editing collections\n */\n@Component({\n  selector: 'ds-collection-form',\n  styleUrls: ['../../shared/comcol/comcol-forms/comcol-form/comcol-form.component.scss'],\n  templateUrl: '../../shared/comcol/comcol-forms/comcol-form/comcol-form.component.html',\n  standalone: true,\n  imports: [\n    FormComponent,\n    TranslateModule,\n    UploaderComponent,\n    AsyncPipe,\n    ComcolPageLogoComponent,\n    NgIf,\n    NgClass,\n    VarDirective,\n  ],\n})\nexport class CollectionFormComponent extends ComColFormComponent<Collection> implements OnInit, OnChanges {\n  /**\n   * @type {Collection} A new collection when a collection is being created, an existing Input collection when a collection is being edited\n   */\n  @Input() dso: Collection = new Collection();\n\n  /**\n   * @type {Collection.type} This is a collection-type form\n   */\n  type = Collection.type;\n\n  /**\n   * The dynamic form field used for entity type selection\n   * @type {DynamicSelectModel<string>}\n   */\n  entityTypeSelection: DynamicSelectModel<string> = new DynamicSelectModel(collectionFormEntityTypeSelectionConfig);\n\n  /**\n   * The dynamic form fields used for creating/editing a collection\n   * @type {DynamicFormControlModel[]}\n   */\n  formModel: DynamicFormControlModel[];\n\n  public constructor(protected formService: DynamicFormService,\n                     protected translate: TranslateService,\n                     protected notificationsService: NotificationsService,\n                     protected authService: AuthService,\n                     protected dsoService: CollectionDataService,\n                     protected requestService: RequestService,\n                     protected objectCache: ObjectCacheService,\n                     protected entityTypeService: EntityTypeDataService,\n                     protected chd: ChangeDetectorRef,\n                     protected modalService: NgbModal) {\n    super(formService, translate, notificationsService, authService, requestService, objectCache, modalService);\n  }\n\n  ngOnInit(): void {\n    if (hasNoValue(this.formModel) && isNotNull(this.dso)) {\n      this.initializeForm();\n    }\n  }\n\n  /**\n   * Detect changes to the dso and initialize the form,\n   * if the dso changes, exists and it is not the first change\n   */\n  ngOnChanges(changes: SimpleChanges) {\n    const dsoChange: SimpleChange = changes.dso;\n    if (this.dso && dsoChange && !dsoChange.isFirstChange()) {\n      this.initializeForm();\n    }\n  }\n\n  initializeForm() {\n    let currentRelationshipValue: MetadataValue[];\n    if (this.dso && this.dso.metadata) {\n      currentRelationshipValue = this.dso.metadata['dspace.entity.type'];\n    }\n\n    const entities$: Observable<ItemType[]> = this.entityTypeService.findAll({ elementsPerPage: 100, currentPage: 1 }).pipe(\n      getFirstSucceededRemoteListPayload(),\n    );\n\n    // retrieve all entity types to populate the dropdowns selection\n    entities$.subscribe((entityTypes: ItemType[]) => {\n\n      entityTypes = entityTypes.filter((type: ItemType) => type.label !== NONE_ENTITY_TYPE);\n      entityTypes.forEach((type: ItemType, index: number) => {\n        this.entityTypeSelection.add({\n          disabled: false,\n          label: type.label,\n          value: type.label,\n        } as DynamicFormOptionConfig<string>);\n        if (currentRelationshipValue && currentRelationshipValue.length > 0 && currentRelationshipValue[0].value === type.label) {\n          this.entityTypeSelection.select(index);\n          this.entityTypeSelection.disabled = true;\n        }\n      });\n\n      this.formModel = entityTypes.length === 0 ? collectionFormModels : [...collectionFormModels, this.entityTypeSelection];\n\n      super.ngOnInit();\n      this.chd.detectChanges();\n    });\n\n  }\n}\n","<div class=\"container-fluid\">\n  <div class=\"row\">\n    <div class=\"col-12 d-inline-block mb-1\">\n      <span>{{type.value + '.edit.logo.label' | translate}}</span>\n    </div>\n    <ng-container *ngVar=\"(dso?.logo | async)?.payload as logo\">\n      <div class=\"col-12 d-inline-block alert\" id=\"logo-section\" *ngIf=\"logo\">\n        <div class=\"row\">\n          <div class=\"col-8 d-inline-block\">\n            <ds-comcol-page-logo [alternateText]=\"type.value + '.logo.alt'\" [logo]=\"logo\"></ds-comcol-page-logo>\n          </div>\n          <div class=\"col-4 d-inline-block\">\n            <div *ngIf=\"logo\" class=\"float-right\">\n              <button\n                (click)=\"confirmLogoDeleteWithModal()\"\n                class=\"btn btn-danger\"\n                type=\"button\">{{ 'community.edit.logo.delete.title' | translate }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div *ngIf=\"!logo\" class=\"col-12 d-inline-block\">\n        <ds-uploader  *ngIf=\"initializedUploaderOptions | async\"\n                      [ariaLabel]=\"type.value + '.browse.logo'\"\n                      [dropMsg]=\"type.value + '.edit.logo.upload'\"\n                      [dropOverDocumentMsg]=\"type.value + '.edit.logo.upload'\"\n                      [enableDragOverDocument]=\"true\"\n                      [uploadFilesOptions]=\"uploadFilesOptions\"\n                      (onCompleteItem)=\"onCompleteItem()\"\n                      (onUploadError)=\"onUploadError()\"></ds-uploader>\n      </div>\n    </ng-container>\n  </div>\n</div>\n<ds-form *ngIf=\"formModel\"\n         [formId]=\"'comcol-form-id'\"\n         [formModel]=\"formModel\"\n         [displayCancel]=\"false\"\n         (submitForm)=\"onSubmit()\">\n  <button (click)=\"back.emit()\" before class=\"btn btn-outline-secondary\" type=\"button\">\n    <i class=\"fas fa-arrow-left\" aria-hidden=\"true\"></i> {{ type.value + '.edit.return' | translate }}\n  </button>\n</ds-form>\n\n","import {\n  DynamicFormControlModel,\n  DynamicInputModel,\n  DynamicTextAreaModel,\n} from '@ng-dynamic-forms/core';\nimport { DynamicSelectModelConfig } from '@ng-dynamic-forms/core/lib/model/select/dynamic-select.model';\n\nimport { environment } from '../../../environments/environment';\n\nexport const collectionFormEntityTypeSelectionConfig: DynamicSelectModelConfig<string> = {\n  id: 'entityType',\n  name: 'dspace.entity.type',\n  disabled: false,\n};\n\n/**\n * The dynamic form fields used for creating/editing a collection\n * @type {(DynamicInputModel | DynamicTextAreaModel)[]}\n */\nexport const collectionFormModels: DynamicFormControlModel[] = [\n  new DynamicInputModel({\n    id: 'title',\n    name: 'dc.title',\n    required: true,\n    validators: {\n      required: null,\n    },\n    errorMessages: {\n      required: 'Please enter a name for this title',\n    },\n  }),\n  new DynamicTextAreaModel({\n    id: 'description',\n    name: 'dc.description',\n    spellCheck: environment.form.spellCheck,\n  }),\n  new DynamicTextAreaModel({\n    id: 'abstract',\n    name: 'dc.description.abstract',\n    spellCheck: environment.form.spellCheck,\n  }),\n  new DynamicTextAreaModel({\n    id: 'rights',\n    name: 'dc.rights',\n    spellCheck: environment.form.spellCheck,\n  }),\n  new DynamicTextAreaModel({\n    id: 'tableofcontents',\n    name: 'dc.description.tableofcontents',\n    spellCheck: environment.form.spellCheck,\n  }),\n  new DynamicTextAreaModel({\n    id: 'license',\n    name: 'dc.rights.license',\n    spellCheck: environment.form.spellCheck,\n  }),\n];\n","import { CanActivateFn } from '@angular/router';\nimport { of as observableOf } from 'rxjs';\n\nimport { dsoPageSingleFeatureGuard } from '../core/data/feature-authorization/feature-authorization-guard/dso-page-single-feature.guard';\nimport { FeatureID } from '../core/data/feature-authorization/feature-id';\nimport { collectionPageResolver } from './collection-page.resolver';\n\n/**\n * Guard for preventing unauthorized access to certain {@link Collection} pages requiring administrator rights\n * Check administrator authorization rights\n */\nexport const collectionPageAdministratorGuard: CanActivateFn =\n  dsoPageSingleFeatureGuard(\n    () => collectionPageResolver,\n    () => observableOf(FeatureID.AdministratorOf),\n  );\n","import { Route } from '@angular/router';\n\nimport { browseByGuard } from '../browse-by/browse-by-guard';\nimport { browseByI18nBreadcrumbResolver } from '../browse-by/browse-by-i18n-breadcrumb.resolver';\nimport { authenticatedGuard } from '../core/auth/authenticated.guard';\nimport { collectionBreadcrumbResolver } from '../core/breadcrumbs/collection-breadcrumb.resolver';\nimport { communityBreadcrumbResolver } from '../core/breadcrumbs/community-breadcrumb.resolver';\nimport { i18nBreadcrumbResolver } from '../core/breadcrumbs/i18n-breadcrumb.resolver';\nimport { ComcolBrowseByComponent } from '../shared/comcol/sections/comcol-browse-by/comcol-browse-by.component';\nimport { ComcolSearchSectionComponent } from '../shared/comcol/sections/comcol-search-section/comcol-search-section.component';\nimport { dsoEditMenuResolver } from '../shared/dso-page/dso-edit-menu.resolver';\nimport { LinkMenuItemModel } from '../shared/menu/menu-item/models/link.model';\nimport { MenuItemType } from '../shared/menu/menu-item-type.model';\nimport { collectionPageResolver } from './collection-page.resolver';\nimport { collectionPageAdministratorGuard } from './collection-page-administrator.guard';\nimport {\n  COLLECTION_CREATE_PATH,\n  COLLECTION_EDIT_PATH,\n  ITEMTEMPLATE_PATH,\n} from './collection-page-routing-paths';\nimport { CreateCollectionPageComponent } from './create-collection-page/create-collection-page.component';\nimport { createCollectionPageGuard } from './create-collection-page/create-collection-page.guard';\nimport { DeleteCollectionPageComponent } from './delete-collection-page/delete-collection-page.component';\nimport { itemTemplatePageResolver } from './edit-item-template-page/item-template-page.resolver';\nimport { ThemedEditItemTemplatePageComponent } from './edit-item-template-page/themed-edit-item-template-page.component';\nimport { ThemedCollectionPageComponent } from './themed-collection-page.component';\n\nexport const ROUTES: Route[] = [\n  {\n    path: COLLECTION_CREATE_PATH,\n    canActivate: [authenticatedGuard, createCollectionPageGuard],\n    children: [\n      {\n        path: '',\n        component: CreateCollectionPageComponent,\n        resolve: {\n          breadcrumb: i18nBreadcrumbResolver,\n        },\n        data: {\n          breadcrumbKey: 'collection.create',\n        },\n      },\n    ],\n    data: {\n      breadcrumbQueryParam: 'parent',\n    },\n    resolve: {\n      breadcrumb: communityBreadcrumbResolver,\n    },\n    runGuardsAndResolvers: 'always',\n  },\n  {\n    path: ':id',\n    resolve: {\n      dso: collectionPageResolver,\n      breadcrumb: collectionBreadcrumbResolver,\n    },\n    runGuardsAndResolvers: 'always',\n    children: [\n      {\n        path: COLLECTION_EDIT_PATH,\n        loadChildren: () => import('./edit-collection-page/edit-collection-page-routes')\n          .then((m) => m.ROUTES),\n        canActivate: [collectionPageAdministratorGuard],\n      },\n      {\n        path: 'delete',\n        pathMatch: 'full',\n        component: DeleteCollectionPageComponent,\n        canActivate: [authenticatedGuard],\n      },\n      {\n        path: ITEMTEMPLATE_PATH,\n        component: ThemedEditItemTemplatePageComponent,\n        canActivate: [authenticatedGuard],\n        resolve: {\n          item: itemTemplatePageResolver,\n          breadcrumb: i18nBreadcrumbResolver,\n        },\n        data: { title: 'collection.edit.template.title', breadcrumbKey: 'collection.edit.template' },\n      },\n      {\n        path: '',\n        component: ThemedCollectionPageComponent,\n        resolve: {\n          menu: dsoEditMenuResolver,\n        },\n        children: [\n          {\n            path: '',\n            pathMatch: 'full',\n            component: ComcolSearchSectionComponent,\n          },\n          {\n            path: 'browse/:id',\n            pathMatch: 'full',\n            component: ComcolBrowseByComponent,\n            canActivate: [browseByGuard],\n            resolve: {\n              breadcrumb: browseByI18nBreadcrumbResolver,\n            },\n            data: { breadcrumbKey: 'browse.metadata' },\n          },\n        ],\n      },\n    ],\n    data: {\n      menu: {\n        public: [{\n          id: 'statistics_collection_:id',\n          active: true,\n          visible: true,\n          index: 2,\n          model: {\n            type: MenuItemType.LINK,\n            text: 'menu.section.statistics',\n            link: 'statistics/collections/:id/',\n          } as LinkMenuItemModel,\n        }],\n      },\n    },\n  },\n];\n","import {\n  AsyncPipe,\n  NgIf,\n} from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  OnInit,\n} from '@angular/core';\nimport {\n  ActivatedRoute,\n  Router,\n  RouterOutlet,\n} from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport {\n  filter,\n  map,\n  mergeMap,\n  take,\n} from 'rxjs/operators';\n\nimport { AuthService } from '../core/auth/auth.service';\nimport { DSONameService } from '../core/breadcrumbs/dso-name.service';\nimport { SortOptions } from '../core/cache/models/sort-options.model';\nimport { AuthorizationDataService } from '../core/data/feature-authorization/authorization-data.service';\nimport { FeatureID } from '../core/data/feature-authorization/feature-id';\nimport { RemoteData } from '../core/data/remote-data';\nimport { redirectOn4xx } from '../core/shared/authorized.operators';\nimport { Bitstream } from '../core/shared/bitstream.model';\nimport { Collection } from '../core/shared/collection.model';\nimport { getAllSucceededRemoteDataPayload } from '../core/shared/operators';\nimport {\n  fadeIn,\n  fadeInOut,\n} from '../shared/animations/fade';\nimport { ThemedComcolPageBrowseByComponent } from '../shared/comcol/comcol-page-browse-by/themed-comcol-page-browse-by.component';\nimport { ThemedComcolPageContentComponent } from '../shared/comcol/comcol-page-content/themed-comcol-page-content.component';\nimport { ThemedComcolPageHandleComponent } from '../shared/comcol/comcol-page-handle/themed-comcol-page-handle.component';\nimport { ComcolPageHeaderComponent } from '../shared/comcol/comcol-page-header/comcol-page-header.component';\nimport { ComcolPageLogoComponent } from '../shared/comcol/comcol-page-logo/comcol-page-logo.component';\nimport { DsoEditMenuComponent } from '../shared/dso-page/dso-edit-menu/dso-edit-menu.component';\nimport {\n  hasValue,\n  isNotEmpty,\n} from '../shared/empty.util';\nimport { ErrorComponent } from '../shared/error/error.component';\nimport { ThemedLoadingComponent } from '../shared/loading/themed-loading.component';\nimport { ObjectCollectionComponent } from '../shared/object-collection/object-collection.component';\nimport { PaginationComponentOptions } from '../shared/pagination/pagination-component-options.model';\nimport { VarDirective } from '../shared/utils/var.directive';\nimport { ViewTrackerComponent } from '../statistics/angulartics/dspace/view-tracker.component';\nimport { getCollectionPageRoute } from './collection-page-routing-paths';\n\n@Component({\n  selector: 'ds-base-collection-page',\n  styleUrls: ['./collection-page.component.scss'],\n  templateUrl: './collection-page.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    fadeIn,\n    fadeInOut,\n  ],\n  imports: [\n    ThemedComcolPageContentComponent,\n    ErrorComponent,\n    NgIf,\n    ThemedLoadingComponent,\n    TranslateModule,\n    ViewTrackerComponent,\n    VarDirective,\n    AsyncPipe,\n    ComcolPageHeaderComponent,\n    ComcolPageLogoComponent,\n    ThemedComcolPageHandleComponent,\n    DsoEditMenuComponent,\n    ThemedComcolPageBrowseByComponent,\n    ObjectCollectionComponent,\n    RouterOutlet,\n  ],\n  standalone: true,\n})\nexport class CollectionPageComponent implements OnInit {\n  collectionRD$: Observable<RemoteData<Collection>>;\n  logoRD$: Observable<RemoteData<Bitstream>>;\n  paginationConfig: PaginationComponentOptions;\n  sortConfig: SortOptions;\n\n  /**\n   * Whether the current user is a Community admin\n   */\n  isCollectionAdmin$: Observable<boolean>;\n\n  /**\n   * Route to the community page\n   */\n  collectionPageRoute$: Observable<string>;\n\n  constructor(\n    protected route: ActivatedRoute,\n    protected router: Router,\n    protected authService: AuthService,\n    protected authorizationDataService: AuthorizationDataService,\n    public dsoNameService: DSONameService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.collectionRD$ = this.route.data.pipe(\n      map((data) => data.dso as RemoteData<Collection>),\n      redirectOn4xx(this.router, this.authService),\n      take(1),\n    );\n    this.logoRD$ = this.collectionRD$.pipe(\n      map((rd: RemoteData<Collection>) => rd.payload),\n      filter((collection: Collection) => hasValue(collection)),\n      mergeMap((collection: Collection) => collection.logo),\n    );\n    this.isCollectionAdmin$ = this.authorizationDataService.isAuthorized(FeatureID.IsCollectionAdmin);\n\n    this.collectionPageRoute$ = this.collectionRD$.pipe(\n      getAllSucceededRemoteDataPayload(),\n      map((collection) => getCollectionPageRoute(collection.id)),\n    );\n  }\n\n  isNotEmpty(object: any) {\n    return isNotEmpty(object);\n  }\n\n\n}\n","<div class=\"container\">\n  <div class=\"collection-page\"\n       *ngVar=\"(collectionRD$ | async) as collectionRD\">\n    <div *ngIf=\"collectionRD?.hasSucceeded\" @fadeInOut>\n      <div *ngIf=\"collectionRD?.payload as collection\">\n        <ds-view-tracker [object]=\"collection\"></ds-view-tracker>\n        <div class=\"d-flex flex-row border-bottom mb-4 pb-4\">\n          <header class=\"comcol-header mr-auto\">\n            <!-- Collection Name -->\n            <ds-comcol-page-header\n                [name]=\"dsoNameService.getName(collection)\">\n            </ds-comcol-page-header>\n            <!-- Collection logo -->\n            <ds-comcol-page-logo *ngIf=\"logoRD$\"\n                                 [logo]=\"(logoRD$ | async)?.payload\"\n                                 [alternateText]=\"'collection.logo' | translate\">\n            </ds-comcol-page-logo>\n\n            <!-- Handle -->\n            <ds-comcol-page-handle\n                [content]=\"collection.handle\"\n                [title]=\"'collection.page.handle'\">\n            </ds-comcol-page-handle>\n            <!-- Introductory text -->\n            <ds-comcol-page-content\n                [content]=\"collection.introductoryText\"\n                [hasInnerHtml]=\"true\">\n            </ds-comcol-page-content>\n            <!-- News -->\n            <ds-comcol-page-content\n                [content]=\"collection.sidebarText\"\n                [hasInnerHtml]=\"true\"\n                [title]=\"'collection.page.news'\">\n            </ds-comcol-page-content>\n          </header>\n          <ds-dso-edit-menu></ds-dso-edit-menu>\n        </div>\n        <section class=\"comcol-page-browse-section\">\n          <!-- Browse-By Links -->\n          <ds-comcol-page-browse-by\n              [id]=\"collection.id\"\n              [contentType]=\"collection.type\">\n          </ds-comcol-page-browse-by>\n\n          <router-outlet></router-outlet>\n        </section>\n        <footer *ngIf=\"collection.copyrightText\" class=\"border-top my-5 pt-4\">\n          <!-- Copyright -->\n          <ds-comcol-page-content\n              [content]=\"collection.copyrightText\"\n              [hasInnerHtml]=\"true\">\n          </ds-comcol-page-content>\n        </footer>\n      </div>\n    </div>\n    <ds-error *ngIf=\"collectionRD?.hasFailed\"\n              message=\"{{'error.collection' | translate}}\"></ds-error>\n    <ds-loading *ngIf=\"collectionRD?.isLoading\"\n                       message=\"{{'loading.collection' | translate}}\"></ds-loading>\n  </div>\n</div>\n","import {\n  AsyncPipe,\n  NgIf,\n} from '@angular/common';\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  TranslateModule,\n  TranslateService,\n} from '@ngx-translate/core';\n\nimport { DSONameService } from '../../core/breadcrumbs/dso-name.service';\nimport { CollectionDataService } from '../../core/data/collection-data.service';\nimport { CommunityDataService } from '../../core/data/community-data.service';\nimport { RequestService } from '../../core/data/request.service';\nimport { RouteService } from '../../core/services/route.service';\nimport { Collection } from '../../core/shared/collection.model';\nimport { CreateComColPageComponent } from '../../shared/comcol/comcol-forms/create-comcol-page/create-comcol-page.component';\nimport { ThemedLoadingComponent } from '../../shared/loading/themed-loading.component';\nimport { NotificationsService } from '../../shared/notifications/notifications.service';\nimport { CollectionFormComponent } from '../collection-form/collection-form.component';\n\n/**\n * Component that represents the page where a user can create a new Collection\n */\n@Component({\n  selector: 'ds-create-collection',\n  styleUrls: ['./create-collection-page.component.scss'],\n  templateUrl: './create-collection-page.component.html',\n  imports: [\n    CollectionFormComponent,\n    TranslateModule,\n    AsyncPipe,\n    ThemedLoadingComponent,\n    NgIf,\n  ],\n  standalone: true,\n})\nexport class CreateCollectionPageComponent extends CreateComColPageComponent<Collection> {\n  protected frontendURL = '/collections/';\n  protected type = Collection.type;\n\n  public constructor(\n    public dsoNameService: DSONameService,\n    protected communityDataService: CommunityDataService,\n    protected collectionDataService: CollectionDataService,\n    protected routeService: RouteService,\n    protected router: Router,\n    protected notificationsService: NotificationsService,\n    protected translate: TranslateService,\n    protected requestService: RequestService,\n  ) {\n    super(collectionDataService, dsoNameService, communityDataService, routeService, router, notificationsService, translate, requestService);\n  }\n}\n","<div class=\"container\" *ngIf=\"(isLoading$ | async) === false\">\n  <div class=\"row\">\n    <div class=\"col-12 pb-4\">\n      <h1 id=\"sub-header\"\n          class=\"border-bottom pb-2\">{{ 'collection.create.sub-head' | translate:{ parent: dsoNameService.getName((parentRD$| async)?.payload) } }}</h1>\n    </div>\n  </div>\n  <ds-collection-form (submitForm)=\"onSubmit($event)\"\n                      [isCreation]=\"true\"\n                      (back)=\"navigateToHome()\"></ds-collection-form>\n</div>\n\n<div class=\"container\">\n  <ds-loading *ngIf=\"isLoading$ | async\"></ds-loading>\n</div>\n","import { inject } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivateFn,\n  Router,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport {\n  Observable,\n  of as observableOf,\n} from 'rxjs';\nimport {\n  map,\n  tap,\n} from 'rxjs/operators';\n\nimport { CommunityDataService } from '../../core/data/community-data.service';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { Community } from '../../core/shared/community.model';\nimport { getFirstCompletedRemoteData } from '../../core/shared/operators';\nimport {\n  hasNoValue,\n  hasValue,\n} from '../../shared/empty.util';\n\n/**\n * True when either a parent ID query parameter has been provided and the parent ID resolves to a valid parent community\n * Reroutes to a 404 page when the page cannot be activated\n */\nexport const createCollectionPageGuard: CanActivateFn = (\n  route: ActivatedRouteSnapshot,\n  state: RouterStateSnapshot,\n  communityService: CommunityDataService = inject(CommunityDataService),\n  router: Router = inject(Router),\n): Observable<boolean> => {\n  const parentID = route.queryParams.parent;\n  if (hasNoValue(parentID)) {\n    router.navigate(['/404']);\n    return observableOf(false);\n  }\n  return communityService.findById(parentID)\n    .pipe(\n      getFirstCompletedRemoteData(),\n      map((communityRD: RemoteData<Community>) => hasValue(communityRD) && communityRD.hasSucceeded && hasValue(communityRD.payload)),\n      tap((isValid: boolean) => {\n        if (!isValid) {\n          router.navigate(['/404']);\n        }\n      }),\n    );\n};\n\n","import {\n  AsyncPipe,\n  NgIf,\n} from '@angular/common';\nimport { Component } from '@angular/core';\nimport {\n  ActivatedRoute,\n  Router,\n} from '@angular/router';\nimport {\n  TranslateModule,\n  TranslateService,\n} from '@ngx-translate/core';\n\nimport { DSONameService } from '../../core/breadcrumbs/dso-name.service';\nimport { CollectionDataService } from '../../core/data/collection-data.service';\nimport { Collection } from '../../core/shared/collection.model';\nimport { BtnDisabledDirective } from '../../shared/btn-disabled.directive';\nimport { DeleteComColPageComponent } from '../../shared/comcol/comcol-forms/delete-comcol-page/delete-comcol-page.component';\nimport { NotificationsService } from '../../shared/notifications/notifications.service';\nimport { VarDirective } from '../../shared/utils/var.directive';\n\n/**\n * Component that represents the page where a user can delete an existing Collection\n */\n@Component({\n  selector: 'ds-delete-collection',\n  styleUrls: ['./delete-collection-page.component.scss'],\n  templateUrl: './delete-collection-page.component.html',\n  imports: [\n    TranslateModule,\n    AsyncPipe,\n    NgIf,\n    VarDirective,\n    BtnDisabledDirective,\n  ],\n  standalone: true,\n})\nexport class DeleteCollectionPageComponent extends DeleteComColPageComponent<Collection> {\n  protected frontendURL = '/collections/';\n\n  public constructor(\n    protected dsoDataService: CollectionDataService,\n    public dsoNameService: DSONameService,\n    protected router: Router,\n    protected route: ActivatedRoute,\n    protected notifications: NotificationsService,\n    protected translate: TranslateService,\n  ) {\n    super(dsoDataService, dsoNameService, router, route, notifications, translate);\n  }\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <ng-container *ngVar=\"(dsoRD$ | async)?.payload as dso\">\n            <div class=\"col-12 pb-4\">\n                <h1 id=\"header\" class=\"border-bottom pb-2\">{{ 'collection.delete.head' | translate}}</h1>\n                <p class=\"pb-2\">{{ 'collection.delete.text' | translate:{ dso: dsoNameService.getName(dso) } }}</p>\n                <div class=\"form-group row\">\n                  <div class=\"col text-right space-children-mr\">\n                    <button class=\"btn btn-outline-secondary\" (click)=\"onCancel(dso)\" [dsBtnDisabled]=\"(processing$ | async)\">\n                      <i class=\"fas fa-times\"></i> {{'collection.delete.cancel' | translate}}\n                    </button>\n                    <button class=\"btn btn-danger\" (click)=\"onConfirm(dso)\" [dsBtnDisabled]=\"(processing$ | async)\">\n                      <span *ngIf=\"processing$ | async\"><i class='fas fa-circle-notch fa-spin'></i> {{'collection.delete.processing' | translate}}</span>\n                      <span *ngIf=\"(processing$ | async) !== true\"><i class=\"fas fa-trash\"></i> {{'collection.delete.confirm' | translate}}</span>\n                    </button>\n                  </div>\n                </div>\n            </div>\n        </ng-container>\n\n    </div>\n\n</div>\n","import {\n  AsyncPipe,\n  NgIf,\n} from '@angular/common';\nimport {\n  Component,\n  OnInit,\n} from '@angular/core';\nimport {\n  ActivatedRoute,\n  RouterLink,\n} from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport {\n  first,\n  map,\n  switchMap,\n} from 'rxjs/operators';\n\nimport { DSONameService } from '../../core/breadcrumbs/dso-name.service';\nimport { ItemTemplateDataService } from '../../core/data/item-template-data.service';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { Collection } from '../../core/shared/collection.model';\nimport { Item } from '../../core/shared/item.model';\nimport { getFirstSucceededRemoteDataPayload } from '../../core/shared/operators';\nimport { ThemedDsoEditMetadataComponent } from '../../dso-shared/dso-edit-metadata/themed-dso-edit-metadata.component';\nimport { AlertComponent } from '../../shared/alert/alert.component';\nimport { AlertType } from '../../shared/alert/alert-type';\nimport { ThemedLoadingComponent } from '../../shared/loading/themed-loading.component';\nimport { VarDirective } from '../../shared/utils/var.directive';\nimport { getCollectionEditRoute } from '../collection-page-routing-paths';\n\n@Component({\n  selector: 'ds-base-edit-item-template-page',\n  templateUrl: './edit-item-template-page.component.html',\n  imports: [\n    ThemedDsoEditMetadataComponent,\n    RouterLink,\n    AsyncPipe,\n    VarDirective,\n    NgIf,\n    TranslateModule,\n    ThemedLoadingComponent,\n    AlertComponent,\n  ],\n  standalone: true,\n})\n/**\n * Component for editing the item template of a collection\n */\nexport class EditItemTemplatePageComponent implements OnInit {\n\n  /**\n   * The collection to edit the item template for\n   */\n  collectionRD$: Observable<RemoteData<Collection>>;\n\n  /**\n   * The template item\n   */\n  itemRD$: Observable<RemoteData<Item>>;\n\n  /**\n   * The AlertType enumeration\n   * @type {AlertType}\n   */\n  AlertTypeEnum = AlertType;\n\n  constructor(\n    protected route: ActivatedRoute,\n    public itemTemplateService: ItemTemplateDataService,\n    public dsoNameService: DSONameService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.collectionRD$ = this.route.parent.data.pipe(first(), map((data) => data.dso));\n    this.itemRD$ = this.collectionRD$.pipe(\n      getFirstSucceededRemoteDataPayload(),\n      switchMap((collection) => this.itemTemplateService.findByCollectionID(collection.id)),\n    );\n  }\n\n  /**\n   * Get the URL to the collection's edit page\n   * @param collection\n   */\n  getCollectionEditUrl(collection: Collection): string {\n    if (collection) {\n      return getCollectionEditRoute(collection.uuid);\n    } else {\n      return '';\n    }\n  }\n\n}\n","<div class=\"container\" *ngVar=\"(collectionRD$ | async)?.payload as collection\">\n  <div class=\"row\">\n    <div class=\"col-12\" *ngVar=\"(itemRD$ | async) as itemRD\">\n      <ng-container *ngIf=\"itemRD?.hasSucceeded\">\n        <h1 class=\"border-bottom\">{{ 'collection.edit.template.head' | translate:{ collection: dsoNameService.getName(collection) } }}</h1>\n        <ds-dso-edit-metadata [updateDataService]=\"itemTemplateService\" [dso]=\"itemRD?.payload\"></ds-dso-edit-metadata>\n        <button [routerLink]=\"getCollectionEditUrl(collection)\" class=\"btn btn-outline-secondary\">{{ 'collection.edit.template.cancel' | translate }}</button>\n      </ng-container>\n      <ds-loading *ngIf=\"itemRD?.isLoading\" [message]=\"'collection.edit.template.loading' | translate\"></ds-loading>\n      <ds-alert *ngIf=\"itemRD?.hasFailed\" [type]=\"AlertTypeEnum.Error\" [content]=\"'collection.edit.template.error' | translate\"></ds-alert>\n    </div>\n  </div>\n</div>\n","import { inject } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  ResolveFn,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { ItemTemplateDataService } from '../../core/data/item-template-data.service';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { Item } from '../../core/shared/item.model';\nimport { getFirstCompletedRemoteData } from '../../core/shared/operators';\nimport { followLink } from '../../shared/utils/follow-link-config.model';\n\nexport const itemTemplatePageResolver: ResolveFn<RemoteData<Item>> = (\n  route: ActivatedRouteSnapshot,\n  state: RouterStateSnapshot,\n  itemTemplateService: ItemTemplateDataService = inject(ItemTemplateDataService),\n): Observable<RemoteData<Item>> => {\n  return itemTemplateService.findByCollectionID(route.params.id, true, false, followLink('templateItemOf')).pipe(\n    getFirstCompletedRemoteData(),\n  );\n};\n","import { Component } from '@angular/core';\n\nimport { ThemedComponent } from '../../shared/theme-support/themed.component';\nimport { EditItemTemplatePageComponent } from './edit-item-template-page.component';\n\n@Component({\n  selector: 'ds-edit-item-template-page',\n  styleUrls: [],\n  templateUrl: '../../shared/theme-support/themed.component.html',\n  standalone: true,\n  imports: [EditItemTemplatePageComponent],\n})\n/**\n * Component for editing the item template of a collection\n */\nexport class ThemedEditItemTemplatePageComponent extends ThemedComponent<EditItemTemplatePageComponent> {\n  protected getComponentName(): string {\n    return 'EditItemTemplatePageComponent';\n  }\n\n  protected importThemedComponent(themeName: string): Promise<any> {\n    return import(`../../../themes/${themeName}/app/collection-page/edit-item-template-page/edit-item-template-page.component`);\n  }\n\n  protected importUnthemedComponent(): Promise<any> {\n    return import('./edit-item-template-page.component');\n  }\n}\n","<ng-template #vcr>\n</ng-template>\n<div #content>\n  <ng-content></ng-content>\n</div>\n","import { Component } from '@angular/core';\n\nimport { ThemedComponent } from '../shared/theme-support/themed.component';\nimport { CollectionPageComponent } from './collection-page.component';\n\n/**\n * Themed wrapper for CollectionPageComponent\n */\n@Component({\n  selector: 'ds-collection-page',\n  styleUrls: [],\n  templateUrl: '../shared/theme-support/themed.component.html',\n  standalone: true,\n  imports: [CollectionPageComponent],\n})\nexport class ThemedCollectionPageComponent extends ThemedComponent<CollectionPageComponent> {\n  protected getComponentName(): string {\n    return 'CollectionPageComponent';\n  }\n\n  protected importThemedComponent(themeName: string): Promise<any> {\n    return import(`../../themes/${themeName}/app/collection-page/collection-page.component`);\n  }\n\n  protected importUnthemedComponent(): Promise<any> {\n    return import(`./collection-page.component`);\n  }\n\n}\n","import { inject } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  ResolveFn,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { BreadcrumbConfig } from '../../breadcrumbs/breadcrumb/breadcrumb-config.model';\nimport { COLLECTION_PAGE_LINKS_TO_FOLLOW } from '../../collection-page/collection-page.resolver';\nimport { FollowLinkConfig } from '../../shared/utils/follow-link-config.model';\nimport { CollectionDataService } from '../data/collection-data.service';\nimport { Collection } from '../shared/collection.model';\nimport { DSpaceObject } from '../shared/dspace-object.model';\nimport { DSOBreadcrumbResolver } from './dso-breadcrumb.resolver';\nimport { DSOBreadcrumbsService } from './dso-breadcrumbs.service';\n\n/**\n * The resolve function that resolves the BreadcrumbConfig object for a Collection\n */\nexport const collectionBreadcrumbResolver: ResolveFn<BreadcrumbConfig<Collection>> = (\n  route: ActivatedRouteSnapshot,\n  state: RouterStateSnapshot,\n  breadcrumbService: DSOBreadcrumbsService = inject(DSOBreadcrumbsService),\n  dataService: CollectionDataService = inject(CollectionDataService),\n): Observable<BreadcrumbConfig<Collection>> => {\n  const linksToFollow: FollowLinkConfig<DSpaceObject>[] = COLLECTION_PAGE_LINKS_TO_FOLLOW as FollowLinkConfig<DSpaceObject>[];\n  return DSOBreadcrumbResolver(\n    route,\n    state,\n    breadcrumbService,\n    dataService,\n    ...linksToFollow,\n  ) as Observable<BreadcrumbConfig<Collection>>;\n};\n\n","/* eslint-disable max-classes-per-file */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\nimport { NotificationsService } from '../../shared/notifications/notifications.service';\nimport { FollowLinkConfig } from '../../shared/utils/follow-link-config.model';\nimport { BrowseService } from '../browse/browse.service';\nimport { RemoteDataBuildService } from '../cache/builders/remote-data-build.service';\nimport { ObjectCacheService } from '../cache/object-cache.service';\nimport { HALEndpointService } from '../shared/hal-endpoint.service';\nimport { Item } from '../shared/item.model';\nimport { CreateDataImpl } from './base/create-data';\nimport { IdentifiableDataService } from './base/identifiable-data.service';\nimport { BundleDataService } from './bundle-data.service';\nimport { CollectionDataService } from './collection-data.service';\nimport { DSOChangeAnalyzer } from './dso-change-analyzer.service';\nimport { BaseItemDataService } from './item-data.service';\nimport { RemoteData } from './remote-data';\nimport { RequestService } from './request.service';\n\n/**\n * Data service for interacting with Item templates via their Collection\n */\nclass CollectionItemTemplateDataService extends IdentifiableDataService<Item> {\n  private createData: CreateDataImpl<Item>;\n\n  constructor(\n    protected requestService: RequestService,\n    protected rdbService: RemoteDataBuildService,\n    protected objectCache: ObjectCacheService,\n    protected halService: HALEndpointService,\n    protected notificationsService: NotificationsService,\n    protected collectionService: CollectionDataService,\n  ) {\n    super('itemtemplates', requestService, rdbService, objectCache, halService, undefined);\n\n    // We only intend to use createOnEndpoint, so this inner data service feature doesn't need an endpoint at all\n    this.createData = new CreateDataImpl<Item>(undefined, requestService, rdbService, objectCache, halService, notificationsService, this.responseMsToLive);\n  }\n\n  /**\n   * Create an observable for the HREF of a specific object based on its identifier\n   *\n   * Overridden to ensure that {@link findById} works with Collection IDs and points to the template.\n   * @param collectionID  the ID of a Collection\n   */\n  public getIDHrefObs(collectionID: string): Observable<string> {\n    return this.collectionService.getIDHrefObs(collectionID).pipe(\n      switchMap((href: string) => this.halService.getEndpoint('itemtemplate', href)),\n    );\n  }\n\n  /**\n   * Create a new item template for a Collection by ID\n   * @param item\n   * @param collectionID\n   */\n  public createTemplate(item: Item, collectionID: string): Observable<RemoteData<Item>> {\n    return this.createData.createOnEndpoint(item, this.getIDHrefObs(collectionID));\n  }\n}\n\n/**\n * A service responsible for fetching/sending data from/to the REST API on a collection's itemtemplates endpoint\n */\n@Injectable({ providedIn: 'root' })\nexport class ItemTemplateDataService extends BaseItemDataService {\n  private byCollection: CollectionItemTemplateDataService;\n\n  constructor(\n    protected requestService: RequestService,\n    protected rdbService: RemoteDataBuildService,\n    protected objectCache: ObjectCacheService,\n    protected halService: HALEndpointService,\n    protected notificationsService: NotificationsService,\n    protected comparator: DSOChangeAnalyzer<Item>,\n    protected browseService: BrowseService,\n    protected bundleService: BundleDataService,\n    protected collectionService: CollectionDataService,\n  ) {\n    super('itemtemplates', requestService, rdbService, objectCache, halService, notificationsService, comparator, browseService, bundleService);\n\n    this.byCollection = new CollectionItemTemplateDataService(requestService, rdbService, objectCache, halService, notificationsService, collectionService);\n  }\n\n  /**\n   * Find an item template by collection ID\n   * @param collectionID\n   * @param useCachedVersionIfAvailable If this is true, the request will only be sent if there's\n   *                                    no valid cached version. Defaults to true\n   * @param reRequestOnStale            Whether or not the request should automatically be re-\n   *                                    requested after the response becomes stale\n   * @param linksToFollow               List of {@link FollowLinkConfig} that indicate which\n   *                                    {@link HALLink}s should be automatically resolved\n   */\n  findByCollectionID(collectionID: string, useCachedVersionIfAvailable = true, reRequestOnStale = true, ...linksToFollow: FollowLinkConfig<Item>[]): Observable<RemoteData<Item>> {\n    return this.byCollection.findById(collectionID, useCachedVersionIfAvailable, reRequestOnStale, ...linksToFollow);\n  }\n\n  /**\n   * Create a new item template for a collection by ID\n   * @param item\n   * @param collectionID\n   */\n  createByCollectionID(item: Item, collectionID: string): Observable<RemoteData<Item>> {\n    return this.byCollection.createTemplate(item, collectionID);\n  }\n\n  /**\n   * Get the endpoint based on a collection\n   * @param collectionID  The ID of the collection to base the endpoint on\n   */\n  getCollectionEndpoint(collectionID: string): Observable<string> {\n    return this.byCollection.getIDHrefObs(collectionID);\n  }\n}\n","var map = {\n\t\"./custom/app/collection-page/collection-page.component\": [\n\t\t39751,\n\t\t\"src_themes_custom_app_collection-page_collection-page_component_ts\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 19862;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./custom/app/collection-page/edit-item-template-page/edit-item-template-page.component\": [\n\t\t1928,\n\t\t\"src_themes_custom_app_collection-page_edit-item-template-page_edit-item-template-page_component_ts\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 46563;\nmodule.exports = webpackAsyncContext;"],"names":["AsyncPipe","NgIf","ChangeDetectorRef","SimpleChange","SimpleChanges","NgbModal","DynamicFormService","DynamicSelectModel","TranslateModule","TranslateService","hasNoValue","isNotNull","AuthService","ObjectCacheService","CollectionDataService","EntityTypeDataService","RequestService","Collection","NONE_ENTITY_TYPE","getFirstSucceededRemoteListPayload","ComColFormComponent","ComcolPageLogoComponent","FormComponent","NotificationsService","UploaderComponent","VarDirective","collectionFormEntityTypeSelectionConfig","collectionFormModels","i0","ɵɵelementStart","ɵɵlistener","CollectionFormComponent_ng_container_6_div_1_div_5_Template_button_click_1_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","confirmLogoDeleteWithModal","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ɵɵelement","ɵɵtemplate","CollectionFormComponent_ng_container_6_div_1_div_5_Template","ɵɵproperty","type","value","logo_r3","CollectionFormComponent_ng_container_6_div_2_ds_uploader_1_Template_ds_uploader_onCompleteItem_0_listener","_r4","onCompleteItem","CollectionFormComponent_ng_container_6_div_2_ds_uploader_1_Template_ds_uploader_onUploadError_0_listener","onUploadError","uploadFilesOptions","CollectionFormComponent_ng_container_6_div_2_ds_uploader_1_Template","initializedUploaderOptions","ɵɵelementContainerStart","CollectionFormComponent_ng_container_6_div_1_Template","CollectionFormComponent_ng_container_6_div_2_Template","CollectionFormComponent_ds_form_8_Template_ds_form_submitForm_0_listener","_r5","onSubmit","CollectionFormComponent_ds_form_8_Template_button_click_1_listener","back","emit","formModel","CollectionFormComponent","constructor","formService","translate","notificationsService","authService","dsoService","requestService","objectCache","entityTypeService","chd","modalService","dso","entityTypeSelection","ngOnInit","initializeForm","ngOnChanges","changes","dsoChange","isFirstChange","currentRelationshipValue","metadata","entities$","findAll","elementsPerPage","currentPage","pipe","subscribe","entityTypes","filter","label","forEach","index","add","disabled","length","select","detectChanges","ɵɵdirectiveInject","i1","i2","i3","i4","i5","i6","i7","i8","i9","selectors","inputs","standalone","features","ɵɵInheritDefinitionFeature","ɵɵNgOnChangesFeature","ɵɵStandaloneFeature","decls","vars","consts","template","CollectionFormComponent_Template","rf","ctx","CollectionFormComponent_ng_container_6_Template","CollectionFormComponent_ds_form_8_Template","ɵɵtextInterpolate","tmp_1_0","logo","payload","TranslatePipe","styles","DynamicInputModel","DynamicTextAreaModel","environment","id","name","required","validators","errorMessages","spellCheck","form","of","observableOf","dsoPageSingleFeatureGuard","FeatureID","collectionPageResolver","collectionPageAdministratorGuard","AdministratorOf","browseByGuard","browseByI18nBreadcrumbResolver","authenticatedGuard","collectionBreadcrumbResolver","communityBreadcrumbResolver","i18nBreadcrumbResolver","ComcolBrowseByComponent","ComcolSearchSectionComponent","dsoEditMenuResolver","MenuItemType","COLLECTION_CREATE_PATH","COLLECTION_EDIT_PATH","ITEMTEMPLATE_PATH","CreateCollectionPageComponent","createCollectionPageGuard","DeleteCollectionPageComponent","itemTemplatePageResolver","ThemedEditItemTemplatePageComponent","ThemedCollectionPageComponent","ROUTES","path","canActivate","children","component","resolve","breadcrumb","data","breadcrumbKey","breadcrumbQueryParam","runGuardsAndResolvers","loadChildren","then","m","pathMatch","item","title","menu","public","active","visible","model","LINK","text","link","ActivatedRoute","Router","RouterOutlet","map","mergeMap","take","DSONameService","AuthorizationDataService","redirectOn4xx","getAllSucceededRemoteDataPayload","fadeIn","fadeInOut","ThemedComcolPageBrowseByComponent","ThemedComcolPageContentComponent","ThemedComcolPageHandleComponent","ComcolPageHeaderComponent","DsoEditMenuComponent","hasValue","isNotEmpty","ErrorComponent","ThemedLoadingComponent","ViewTrackerComponent","getCollectionPageRoute","tmp_6_0","ctx_r0","logoRD$","collection_r2","copyrightText","CollectionPageComponent_div_1_div_1_div_1_ds_comcol_page_logo_5_Template","CollectionPageComponent_div_1_div_1_div_1_footer_13_Template","dsoNameService","getName","handle","introductoryText","sidebarText","CollectionPageComponent_div_1_div_1_div_1_Template","undefined","collectionRD_r3","ɵɵpropertyInterpolate","CollectionPageComponent_div_1_div_1_Template","CollectionPageComponent_div_1_ds_error_2_Template","CollectionPageComponent_div_1_ds_loading_3_Template","hasSucceeded","hasFailed","isLoading","CollectionPageComponent","route","router","authorizationDataService","collectionRD$","rd","collection","isCollectionAdmin$","isAuthorized","IsCollectionAdmin","collectionPageRoute$","object","CollectionPageComponent_Template","CollectionPageComponent_div_1_Template","animation","changeDetection","CommunityDataService","RouteService","CreateComColPageComponent","CreateCollectionPageComponent_div_0_Template_ds_collection_form_submitForm_7_listener","$event","CreateCollectionPageComponent_div_0_Template_ds_collection_form_back_7_listener","navigateToHome","ɵɵpipeBind2","ɵɵpureFunction1","_c0","parentRD$","communityDataService","collectionDataService","routeService","frontendURL","CreateCollectionPageComponent_Template","CreateCollectionPageComponent_div_0_Template","CreateCollectionPageComponent_ds_loading_3_Template","isLoading$","inject","tap","getFirstCompletedRemoteData","state","communityService","parentID","queryParams","parent","navigate","findById","communityRD","isValid","BtnDisabledDirective","DeleteComColPageComponent","DeleteCollectionPageComponent_ng_container_2_Template_button_click_10_listener","dso_r2","ngVar","ctx_r2","onCancel","DeleteCollectionPageComponent_ng_container_2_Template_button_click_15_listener","onConfirm","DeleteCollectionPageComponent_ng_container_2_span_17_Template","DeleteCollectionPageComponent_ng_container_2_span_19_Template","processing$","dsoDataService","notifications","DeleteCollectionPageComponent_Template","DeleteCollectionPageComponent_ng_container_2_Template","tmp_0_0","dsoRD$","RouterLink","first","switchMap","ItemTemplateDataService","getFirstSucceededRemoteDataPayload","ThemedDsoEditMetadataComponent","AlertComponent","AlertType","getCollectionEditRoute","itemTemplateService","itemRD_r1","getCollectionEditUrl","AlertTypeEnum","Error","EditItemTemplatePageComponent_div_0_div_2_ng_container_1_Template","EditItemTemplatePageComponent_div_0_div_2_ds_loading_2_Template","EditItemTemplatePageComponent_div_0_div_2_ds_alert_3_Template","EditItemTemplatePageComponent_div_0_div_2_Template","itemRD$","EditItemTemplatePageComponent","findByCollectionID","uuid","EditItemTemplatePageComponent_Template","EditItemTemplatePageComponent_div_0_Template","encapsulation","followLink","params","ThemedComponent","getComponentName","importThemedComponent","themeName","importUnthemedComponent","t","ngContentSelectors","ThemedEditItemTemplatePageComponent_Template","ThemedEditItemTemplatePageComponent_ng_template_0_Template","ɵɵtemplateRefExtractor","ɵɵprojection","ThemedCollectionPageComponent_Template","ThemedCollectionPageComponent_ng_template_0_Template","COLLECTION_PAGE_LINKS_TO_FOLLOW","DSOBreadcrumbResolver","DSOBreadcrumbsService","breadcrumbService","dataService","linksToFollow","BrowseService","RemoteDataBuildService","HALEndpointService","CreateDataImpl","IdentifiableDataService","BundleDataService","DSOChangeAnalyzer","BaseItemDataService","CollectionItemTemplateDataService","rdbService","halService","collectionService","createData","responseMsToLive","getIDHrefObs","collectionID","href","getEndpoint","createTemplate","createOnEndpoint","comparator","browseService","bundleService","byCollection","useCachedVersionIfAvailable","reRequestOnStale","createByCollectionID","getCollectionEndpoint","ɵɵinject","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}