{"version":3,"file":"default-src_app_item-page_full_themed-full-item-page_component_ts.js","mappings":"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","sources":["./src/app/core/data/notify-services-status-data.service.ts","./src/app/core/data/signposting-data.service.ts","./src/app/item-page/alerts/item-alerts.component.ts","./src/app/item-page/alerts/item-alerts.component.html","./src/app/item-page/alerts/themed-item-alerts.component.ts","./src/app/shared/theme-support/themed.component.html","./src/app/item-page/full/field-components/file-section/full-file-section.component.ts","./src/app/item-page/full/field-components/file-section/full-file-section.component.html","./src/app/item-page/full/field-components/file-section/themed-full-file-section.component.ts","./src/app/item-page/full/full-item-page.component.ts","./src/app/item-page/full/full-item-page.component.html","./src/app/item-page/full/themed-full-item-page.component.ts","./src/app/item-page/simple/item-page.component.ts","./src/app/item-page/simple/item-page.component.html","./src/app/item-page/simple/notify-requests-status/notify-requests-status-component/notify-requests-status.component.ts","./src/app/item-page/simple/notify-requests-status/notify-requests-status-component/notify-requests-status.component.html","./src/app/item-page/simple/notify-requests-status/notify-status.enum.ts","./src/app/item-page/simple/notify-requests-status/request-status-alert-box/request-status-alert-box.component.ts","./src/app/item-page/simple/notify-requests-status/request-status-alert-box/request-status-alert-box.component.html","./src/app/item-page/simple/qa-event-notification/qa-event-notification.component.ts","./src/app/item-page/simple/qa-event-notification/qa-event-notification.component.html","./src/app/item-page/versions/item-versions-delete-modal/item-versions-delete-modal.component.ts","./src/app/item-page/versions/item-versions-delete-modal/item-versions-delete-modal.component.html","./src/app/item-page/versions/item-versions-row-element-version/item-versions-row-element-version.component.ts","./src/app/item-page/versions/item-versions-row-element-version/item-versions-row-element-version.component.html","./src/app/item-page/versions/item-versions.component.ts","./src/app/item-page/versions/item-versions.component.html","./src/app/item-page/versions/notice/item-versions-notice.component.ts","./src/app/item-page/versions/notice/item-versions-notice.component.html","./src/app/shared/utils/split.pipe.ts","./src/themes/ lazy ^\\.\\/.*\\/app\\/item\\-page\\/alerts\\/item\\-alerts\\.component$ namespace object","./src/themes/ lazy ^\\.\\/.*\\/app\\/item\\-page\\/full\\/field\\-components\\/file\\-section\\/full\\-file\\-section\\.component$ namespace object","./src/themes/ lazy ^\\.\\/.*\\/app\\/item\\-page\\/full\\/full\\-item\\-page\\.component$ namespace object"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  map,\n  Observable,\n  take,\n} from 'rxjs';\n\nimport { NotifyRequestsStatus } from '../../item-page/simple/notify-requests-status/notify-requests-status.model';\nimport { RemoteDataBuildService } from '../cache/builders/remote-data-build.service';\nimport { ObjectCacheService } from '../cache/object-cache.service';\nimport { HALEndpointService } from '../shared/hal-endpoint.service';\nimport { IdentifiableDataService } from './base/identifiable-data.service';\nimport { RemoteData } from './remote-data';\nimport { GetRequest } from './request.models';\nimport { RequestService } from './request.service';\n\n@Injectable({ providedIn: 'root' })\nexport class NotifyRequestsStatusDataService extends IdentifiableDataService<NotifyRequestsStatus> {\n\n  constructor(\n    protected requestService: RequestService,\n    protected rdbService: RemoteDataBuildService,\n    protected objectCache: ObjectCacheService,\n    protected halService: HALEndpointService,\n  ) {\n    super('notifyrequests', requestService, rdbService, objectCache, halService);\n  }\n\n  /**\n   * Retrieves the status of notify requests for a specific item.\n   * @param itemUuid The UUID of the item.\n   * @returns An Observable that emits the remote data containing the notify requests status.\n   */\n  getNotifyRequestsStatus(itemUuid: string): Observable<RemoteData<NotifyRequestsStatus>> {\n    const href$ = this.getEndpoint().pipe(\n      map((url: string) => url + '/' + itemUuid ),\n    );\n\n    href$.pipe(take(1)).subscribe((url: string) => {\n      const request = new GetRequest(this.requestService.generateRequestId(), url);\n      this.requestService.send(request, true);\n    });\n\n    return this.rdbService.buildFromHref(href$);\n  }\n}\n","import {\n  Inject,\n  Injectable,\n} from '@angular/core';\nimport {\n  Observable,\n  of as observableOf,\n} from 'rxjs';\nimport {\n  catchError,\n  map,\n} from 'rxjs/operators';\n\nimport {\n  APP_CONFIG,\n  AppConfig,\n} from '../../../config/app-config.interface';\nimport { DspaceRestService } from '../dspace-rest/dspace-rest.service';\nimport { RawRestResponse } from '../dspace-rest/raw-rest-response.model';\nimport { SignpostingLink } from './signposting-links.model';\n\n/**\n * Service responsible for handling requests related to the Signposting endpoint\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class SignpostingDataService {\n\n  constructor(@Inject(APP_CONFIG) protected appConfig: AppConfig, private restService: DspaceRestService) {\n  }\n\n  /**\n   * Retrieve the list of signposting links related to the given resource's id\n   *\n   * @param uuid\n   */\n  getLinks(uuid: string): Observable<SignpostingLink[]> {\n    const baseUrl = `${this.appConfig.rest.baseUrl}`;\n\n    return this.restService.get(`${baseUrl}/signposting/links/${uuid}`).pipe(\n      catchError((err: unknown) => {\n        return observableOf([]);\n      }),\n      map((res: RawRestResponse) => res.statusCode === 200 ? res.payload as SignpostingLink[] : []),\n    );\n  }\n\n}\n","import {\n  AsyncPipe,\n  NgIf,\n} from '@angular/common';\nimport {\n  Component,\n  Input,\n  OnChanges,\n  SimpleChanges,\n} from '@angular/core';\nimport { RouterLink } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport {\n  combineLatest,\n  map,\n  Observable,\n} from 'rxjs';\nimport { getFirstCompletedRemoteData } from 'src/app/core/shared/operators';\n\nimport { AuthorizationDataService } from '../../core/data/feature-authorization/authorization-data.service';\nimport { FeatureID } from '../../core/data/feature-authorization/feature-id';\nimport { PaginatedList } from '../../core/data/paginated-list.model';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { Item } from '../../core/shared/item.model';\nimport { CorrectionTypeDataService } from '../../core/submission/correctiontype-data.service';\nimport { CorrectionType } from '../../core/submission/models/correctiontype.model';\nimport { AlertComponent } from '../../shared/alert/alert.component';\nimport { AlertType } from '../../shared/alert/alert-type';\nimport {\n  DsoWithdrawnReinstateModalService,\n  REQUEST_REINSTATE,\n} from '../../shared/dso-page/dso-withdrawn-reinstate-service/dso-withdrawn-reinstate-modal.service';\n\n@Component({\n  selector: 'ds-base-item-alerts',\n  templateUrl: './item-alerts.component.html',\n  styleUrls: ['./item-alerts.component.scss'],\n  imports: [\n    AlertComponent,\n    NgIf,\n    TranslateModule,\n    RouterLink,\n    AsyncPipe,\n  ],\n  standalone: true,\n})\n/**\n * Component displaying alerts for an item\n */\nexport class ItemAlertsComponent implements OnChanges {\n  /**\n   * The Item to display alerts for\n   */\n  @Input() item: Item;\n\n  /**\n   * Whether the reinstate button should be shown\n   */\n  showReinstateButton$: Observable<boolean>;\n\n  /**\n   * The AlertType enumeration\n   * @type {AlertType}\n   */\n  public AlertTypeEnum = AlertType;\n\n  constructor(\n    protected authService: AuthorizationDataService,\n    protected dsoWithdrawnReinstateModalService: DsoWithdrawnReinstateModalService,\n    protected correctionTypeDataService: CorrectionTypeDataService,\n  ) {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.item?.currentValue.withdrawn && this.showReinstateButton$) {\n      this.showReinstateButton$ = this.shouldShowReinstateButton();\n    }\n  }\n\n  /**\n   * Determines whether to show the reinstate button.\n   * The button is shown if the user is not an admin and the item has a reinstate request.\n   * @returns An Observable that emits a boolean value indicating whether to show the reinstate button.\n   */\n  shouldShowReinstateButton(): Observable<boolean>  {\n    const correction$ = this.correctionTypeDataService.findByItem(this.item.uuid, true).pipe(\n      getFirstCompletedRemoteData(),\n      map((correctionTypeRD: RemoteData<PaginatedList<CorrectionType>>) => correctionTypeRD.hasSucceeded ? correctionTypeRD.payload.page : []),\n    );\n    const isAdmin$ = this.authService.isAuthorized(FeatureID.AdministratorOf);\n    return combineLatest([isAdmin$, correction$]).pipe(\n      map(([isAdmin, correction]) => {\n        return !isAdmin && correction.some((correctionType) => correctionType.topic === REQUEST_REINSTATE);\n      }),\n    );\n  }\n\n  /**\n   * Opens the reinstate modal for the item.\n   */\n  openReinstateModal() {\n    this.dsoWithdrawnReinstateModalService.openCreateWithdrawnReinstateModal(this.item, 'request-reinstate', this.item.isArchived);\n  }\n}\n","<div>\n    <div *ngIf=\"item && !item.isDiscoverable\" class=\"private-warning\">\n        <ds-alert [type]=\"AlertTypeEnum.Warning\" [content]=\"'item.alerts.private' | translate\"></ds-alert>\n    </div>\n    <div *ngIf=\"item && item.isWithdrawn\" class=\"withdrawn-warning\">\n        <ds-alert [type]=\"AlertTypeEnum.Warning\">\n            <div class=\"d-flex justify-content-between flex-wrap\">\n                <span class=\"align-self-center\">{{'item.alerts.withdrawn' | translate}}</span>\n                <div class=\"gap-2 d-flex\">\n                  <a routerLink=\"/home\" class=\"btn btn-primary btn-sm\">{{\"404.link.home-page\" | translate}}</a>\n                  <a *ngIf=\"showReinstateButton$ | async\" class=\"btn btn-primary btn-sm\" (click)=\"openReinstateModal()\">{{ 'item.alerts.reinstate-request' | translate}}</a>\n                </div>\n            </div>\n        </ds-alert>\n    </div>\n</div>\n","import {\n  Component,\n  Input,\n} from '@angular/core';\n\nimport { Item } from '../../core/shared/item.model';\nimport { ThemedComponent } from '../../shared/theme-support/themed.component';\nimport { ItemAlertsComponent } from './item-alerts.component';\n\n/**\n * Themed wrapper for {@link ItemAlertsComponent}\n */\n@Component({\n  selector: 'ds-item-alerts',\n  styleUrls: [],\n  templateUrl: '../../shared/theme-support/themed.component.html',\n  standalone: true,\n  imports: [ItemAlertsComponent],\n})\nexport class ThemedItemAlertsComponent extends ThemedComponent<ItemAlertsComponent> {\n  protected inAndOutputNames: (keyof ItemAlertsComponent & keyof this)[] = ['item'];\n\n  @Input() item: Item;\n\n  protected getComponentName(): string {\n    return 'ItemAlertsComponent';\n  }\n\n  protected importThemedComponent(themeName: string): Promise<any> {\n    return import(`../../../themes/${themeName}/app/item-page/alerts/item-alerts.component`);\n  }\n\n  protected importUnthemedComponent(): Promise<any> {\n    return import('./item-alerts.component');\n  }\n}\n","<ng-template #vcr>\n</ng-template>\n<div #content>\n  <ng-content></ng-content>\n</div>\n","import {\n  AsyncPipe,\n  NgForOf,\n  NgIf,\n} from '@angular/common';\nimport {\n  Component,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport {\n  TranslateModule,\n  TranslateService,\n} from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport {\n  switchMap,\n  tap,\n} from 'rxjs/operators';\nimport {\n  APP_CONFIG,\n  AppConfig,\n} from 'src/config/app-config.interface';\n\nimport { DSONameService } from '../../../../core/breadcrumbs/dso-name.service';\nimport { BitstreamDataService } from '../../../../core/data/bitstream-data.service';\nimport { PaginatedList } from '../../../../core/data/paginated-list.model';\nimport { RemoteData } from '../../../../core/data/remote-data';\nimport { PaginationService } from '../../../../core/pagination/pagination.service';\nimport { Bitstream } from '../../../../core/shared/bitstream.model';\nimport { Item } from '../../../../core/shared/item.model';\nimport {\n  hasValue,\n  isEmpty,\n} from '../../../../shared/empty.util';\nimport { ThemedFileDownloadLinkComponent } from '../../../../shared/file-download-link/themed-file-download-link.component';\nimport { MetadataFieldWrapperComponent } from '../../../../shared/metadata-field-wrapper/metadata-field-wrapper.component';\nimport { NotificationsService } from '../../../../shared/notifications/notifications.service';\nimport { PaginationComponent } from '../../../../shared/pagination/pagination.component';\nimport { PaginationComponentOptions } from '../../../../shared/pagination/pagination-component-options.model';\nimport { FileSizePipe } from '../../../../shared/utils/file-size-pipe';\nimport { followLink } from '../../../../shared/utils/follow-link-config.model';\nimport { VarDirective } from '../../../../shared/utils/var.directive';\nimport { ThemedThumbnailComponent } from '../../../../thumbnail/themed-thumbnail.component';\nimport { FileSectionComponent } from '../../../simple/field-components/file-section/file-section.component';\n\n/**\n * This component renders the file section of the item\n * inside a 'ds-metadata-field-wrapper' component.\n */\n\n@Component({\n  selector: 'ds-base-item-page-full-file-section',\n  styleUrls: ['./full-file-section.component.scss'],\n  templateUrl: './full-file-section.component.html',\n  imports: [\n    PaginationComponent,\n    NgIf,\n    TranslateModule,\n    AsyncPipe,\n    VarDirective,\n    ThemedThumbnailComponent,\n    NgForOf,\n    ThemedFileDownloadLinkComponent,\n    FileSizePipe,\n    MetadataFieldWrapperComponent,\n  ],\n  standalone: true,\n})\nexport class FullFileSectionComponent extends FileSectionComponent implements OnDestroy, OnInit {\n\n  @Input() item: Item;\n\n  label: string;\n\n  originals$: Observable<RemoteData<PaginatedList<Bitstream>>>;\n  licenses$: Observable<RemoteData<PaginatedList<Bitstream>>>;\n\n  originalOptions = Object.assign(new PaginationComponentOptions(), {\n    id: 'obo',\n    currentPage: 1,\n    pageSize: this.appConfig.item.bitstream.pageSize,\n  });\n\n  licenseOptions = Object.assign(new PaginationComponentOptions(), {\n    id: 'lbo',\n    currentPage: 1,\n    pageSize: this.appConfig.item.bitstream.pageSize,\n  });\n\n  constructor(\n    bitstreamDataService: BitstreamDataService,\n    protected notificationsService: NotificationsService,\n    protected translateService: TranslateService,\n    protected paginationService: PaginationService,\n    public dsoNameService: DSONameService,\n    @Inject(APP_CONFIG) protected appConfig: AppConfig,\n  ) {\n    super(bitstreamDataService, notificationsService, translateService, dsoNameService, appConfig);\n  }\n\n  ngOnInit(): void {\n    this.initialize();\n  }\n\n  initialize(): void {\n    this.originals$ = this.paginationService.getCurrentPagination(this.originalOptions.id, this.originalOptions).pipe(\n      switchMap((options: PaginationComponentOptions) => this.bitstreamDataService.findAllByItemAndBundleName(\n        this.item,\n        'ORIGINAL',\n        { elementsPerPage: options.pageSize, currentPage: options.currentPage },\n        true,\n        true,\n        followLink('format'),\n        followLink('thumbnail'),\n      )),\n      tap((rd: RemoteData<PaginatedList<Bitstream>>) => {\n        if (hasValue(rd.errorMessage)) {\n          this.notificationsService.error(this.translateService.get('file-section.error.header'), `${rd.statusCode} ${rd.errorMessage}`);\n        }\n      },\n      ),\n    );\n\n    this.licenses$ = this.paginationService.getCurrentPagination(this.licenseOptions.id, this.licenseOptions).pipe(\n      switchMap((options: PaginationComponentOptions) => this.bitstreamDataService.findAllByItemAndBundleName(\n        this.item,\n        'LICENSE',\n        { elementsPerPage: options.pageSize, currentPage: options.currentPage },\n        true,\n        true,\n        followLink('format'),\n        followLink('thumbnail'),\n      )),\n      tap((rd: RemoteData<PaginatedList<Bitstream>>) => {\n        if (hasValue(rd.errorMessage)) {\n          this.notificationsService.error(this.translateService.get('file-section.error.header'), `${rd.statusCode} ${rd.errorMessage}`);\n        }\n      },\n      ),\n    );\n\n  }\n\n  hasValuesInBundle(bundle: PaginatedList<Bitstream>) {\n    return hasValue(bundle) && !isEmpty(bundle.page);\n  }\n\n  ngOnDestroy(): void {\n    this.paginationService.clearPagination(this.originalOptions.id);\n    this.paginationService.clearPagination(this.licenseOptions.id);\n  }\n\n}\n","<ds-metadata-field-wrapper [label]=\"label | translate\">\n    <div *ngVar=\"(originals$ | async)?.payload as originals\">\n        <div *ngIf=\"hasValuesInBundle(originals)\">\n            <h3 class=\"h5 simple-view-element-header\">{{\"item.page.filesection.original.bundle\" | translate}}</h3>\n            <ds-pagination *ngIf=\"originals?.page?.length > 0\"\n                           [hideGear]=\"true\"\n                           [hidePagerWhenSinglePage]=\"true\"\n                           [paginationOptions]=\"originalOptions\"\n                           [collectionSize]=\"originals?.totalElements\"\n                           [retainScrollPosition]=\"true\">\n\n\n                <div class=\"file-section row mb-3\" *ngFor=\"let file of originals?.page;\">\n                    <div class=\"col-3\">\n                        <ds-thumbnail [thumbnail]=\"(file.thumbnail | async)?.payload\"></ds-thumbnail>\n                    </div>\n                    <div class=\"col-7\">\n                        <dl class=\"row\">\n                            <dt class=\"col-md-4\">{{\"item.page.filesection.name\" | translate}}</dt>\n                            <dd class=\"col-md-8\">{{ dsoNameService.getName(file) }}</dd>\n\n                            <dt class=\"col-md-4\">{{\"item.page.filesection.size\" | translate}}</dt>\n                            <dd class=\"col-md-8\">{{(file.sizeBytes) | dsFileSize }}</dd>\n\n\n                            <dt class=\"col-md-4\">{{\"item.page.filesection.format\" | translate}}</dt>\n                            <dd class=\"col-md-8\">{{(file.format | async)?.payload?.description}}</dd>\n\n                          <ng-container *ngIf=\"file.hasMetadata('dc.description')\">\n                            <dt class=\"col-md-4\">{{\"item.page.filesection.description\" | translate}}</dt>\n                            <dd class=\"col-md-8\">{{file.firstMetadataValue(\"dc.description\")}}</dd>\n                          </ng-container>\n                        </dl>\n                    </div>\n                    <div class=\"col-2\">\n                        <ds-file-download-link [bitstream]=\"file\" [item]=\"item\">\n                            {{\"item.page.filesection.download\" | translate}}\n                        </ds-file-download-link>\n                    </div>\n                </div>\n            </ds-pagination>\n        </div>\n    </div>\n    <div *ngVar=\"(licenses$ | async)?.payload as licenses\">\n        <div *ngIf=\"hasValuesInBundle(licenses)\">\n            <h3 class=\"h5 simple-view-element-header\">{{\"item.page.filesection.license.bundle\" | translate}}</h3>\n            <ds-pagination *ngIf=\"licenses?.page?.length > 0\"\n                           [hideGear]=\"true\"\n                           [hidePagerWhenSinglePage]=\"true\"\n                           [paginationOptions]=\"licenseOptions\"\n                           [collectionSize]=\"licenses?.totalElements\"\n                           [retainScrollPosition]=\"true\">\n\n\n                <div class=\"file-section row\" *ngFor=\"let file of licenses?.page;\">\n                    <div class=\"col-3\">\n                        <ds-thumbnail [thumbnail]=\"(file.thumbnail | async)?.payload\"></ds-thumbnail>\n                    </div>\n                    <div class=\"col-7\">\n                        <dl class=\"row\">\n                            <dt class=\"col-md-4\">{{\"item.page.filesection.name\" | translate}}</dt>\n                            <dd class=\"col-md-8\">{{ dsoNameService.getName(file) }}</dd>\n\n                            <dt class=\"col-md-4\">{{\"item.page.filesection.size\" | translate}}</dt>\n                            <dd class=\"col-md-8\">{{(file.sizeBytes) | dsFileSize }}</dd>\n\n                            <dt class=\"col-md-4\">{{\"item.page.filesection.format\" | translate}}</dt>\n                            <dd class=\"col-md-8\">{{(file.format | async)?.payload?.description}}</dd>\n\n\n                            <dt class=\"col-md-4\">{{\"item.page.filesection.description\" | translate}}</dt>\n                            <dd class=\"col-md-8\">{{file.firstMetadataValue(\"dc.description\")}}</dd>\n                        </dl>\n                    </div>\n                    <div class=\"col-2\">\n                        <ds-file-download-link [bitstream]=\"file\" [item]=\"item\">\n                            {{\"item.page.filesection.download\" | translate}}\n                        </ds-file-download-link>\n                    </div>\n                </div>\n            </ds-pagination>\n        </div>\n    </div>\n</ds-metadata-field-wrapper>\n","import {\n  Component,\n  Input,\n} from '@angular/core';\n\nimport { Item } from '../../../../core/shared/item.model';\nimport { ThemedComponent } from '../../../../shared/theme-support/themed.component';\nimport { FullFileSectionComponent } from './full-file-section.component';\n\n/**\n * Themed wrapper for {@link FullFileSectionComponent}\n */\n@Component({\n  selector: 'ds-item-page-full-file-section',\n  styleUrls: [],\n  templateUrl: './../../../../shared/theme-support/themed.component.html',\n  standalone: true,\n  imports: [FullFileSectionComponent],\n})\nexport class ThemedFullFileSectionComponent extends ThemedComponent<FullFileSectionComponent> {\n\n  @Input() item: Item;\n\n  protected inAndOutputNames: (keyof FullFileSectionComponent & keyof this)[] = ['item'];\n\n  protected getComponentName(): string {\n    return 'FullFileSectionComponent';\n  }\n\n  protected importThemedComponent(themeName: string): Promise<any> {\n    return import(`../../../../../themes/${themeName}/app/item-page/full/field-components/file-section/full-file-section.component`);\n  }\n\n  protected importUnthemedComponent(): Promise<any> {\n    return import('./full-file-section.component');\n  }\n\n}\n","import {\n  AsyncPipe,\n  KeyValuePipe,\n  Location,\n  NgForOf,\n  NgIf,\n} from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Inject,\n  OnDestroy,\n  OnInit,\n  PLATFORM_ID,\n} from '@angular/core';\nimport {\n  ActivatedRoute,\n  Data,\n  Router,\n  RouterLink,\n} from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport {\n  BehaviorSubject,\n  Observable,\n} from 'rxjs';\nimport {\n  filter,\n  map,\n} from 'rxjs/operators';\n\nimport { NotifyInfoService } from '../../core/coar-notify/notify-info/notify-info.service';\nimport { AuthorizationDataService } from '../../core/data/feature-authorization/authorization-data.service';\nimport { ItemDataService } from '../../core/data/item-data.service';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { SignpostingDataService } from '../../core/data/signposting-data.service';\nimport { LinkHeadService } from '../../core/services/link-head.service';\nimport { ServerResponseService } from '../../core/services/server-response.service';\nimport { Item } from '../../core/shared/item.model';\nimport { MetadataMap } from '../../core/shared/metadata.models';\nimport { fadeInOut } from '../../shared/animations/fade';\nimport { DsoEditMenuComponent } from '../../shared/dso-page/dso-edit-menu/dso-edit-menu.component';\nimport { hasValue } from '../../shared/empty.util';\nimport { ErrorComponent } from '../../shared/error/error.component';\nimport { ThemedLoadingComponent } from '../../shared/loading/themed-loading.component';\nimport { VarDirective } from '../../shared/utils/var.directive';\nimport { ViewTrackerComponent } from '../../statistics/angulartics/dspace/view-tracker.component';\nimport { ThemedItemAlertsComponent } from '../alerts/themed-item-alerts.component';\nimport { CollectionsComponent } from '../field-components/collections/collections.component';\nimport { ThemedItemPageTitleFieldComponent } from '../simple/field-components/specific-field/title/themed-item-page-field.component';\nimport { ItemPageComponent } from '../simple/item-page.component';\nimport { ItemVersionsComponent } from '../versions/item-versions.component';\nimport { ItemVersionsNoticeComponent } from '../versions/notice/item-versions-notice.component';\nimport { ThemedFullFileSectionComponent } from './field-components/file-section/themed-full-file-section.component';\n\n/**\n * This component renders a full item page.\n * The route parameter 'id' is used to request the item it represents.\n */\n\n@Component({\n  selector: 'ds-base-full-item-page',\n  styleUrls: ['./full-item-page.component.scss'],\n  templateUrl: './full-item-page.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [fadeInOut],\n  imports: [\n    ErrorComponent,\n    ThemedLoadingComponent,\n    TranslateModule,\n    ThemedFullFileSectionComponent,\n    CollectionsComponent,\n    ItemVersionsComponent,\n    NgIf,\n    NgForOf,\n    AsyncPipe,\n    KeyValuePipe,\n    RouterLink,\n    ThemedItemPageTitleFieldComponent,\n    DsoEditMenuComponent,\n    ItemVersionsNoticeComponent,\n    ViewTrackerComponent,\n    ThemedItemAlertsComponent,\n    VarDirective,\n  ],\n  standalone: true,\n})\nexport class FullItemPageComponent extends ItemPageComponent implements OnInit, OnDestroy {\n\n  itemRD$: BehaviorSubject<RemoteData<Item>>;\n\n  metadata$: Observable<MetadataMap>;\n\n  /**\n   * True when the itemRD has been originated from its workspaceite/workflowitem, false otherwise.\n   */\n  fromSubmissionObject = false;\n\n  subs = [];\n\n  constructor(\n    protected route: ActivatedRoute,\n    protected router: Router,\n    protected items: ItemDataService,\n    protected authorizationService: AuthorizationDataService,\n    protected _location: Location,\n    protected responseService: ServerResponseService,\n    protected signpostingDataService: SignpostingDataService,\n    protected linkHeadService: LinkHeadService,\n    protected notifyInfoService: NotifyInfoService,\n    @Inject(PLATFORM_ID) protected platformId: string,\n  ) {\n    super(route, router, items, authorizationService, responseService, signpostingDataService, linkHeadService, notifyInfoService, platformId);\n  }\n\n  /*** AoT inheritance fix, will hopefully be resolved in the near future **/\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.metadata$ = this.itemRD$.pipe(\n      map((rd: RemoteData<Item>) => rd.payload),\n      filter((item: Item) => hasValue(item)),\n      map((item: Item) => item.metadata));\n\n    this.subs.push(this.route.data.subscribe((data: Data) => {\n      this.fromSubmissionObject = hasValue(data.wfi) || hasValue(data.wsi);\n    }),\n    );\n  }\n\n  /**\n   * Navigate back in browser history.\n   */\n  back() {\n    this._location.back();\n  }\n\n  ngOnDestroy() {\n    this.subs.filter((sub) => hasValue(sub)).forEach((sub) => sub.unsubscribe());\n  }\n}\n","<div class=\"container\" *ngVar=\"(itemRD$ | async) as itemRD\">\n  <div class=\"item-page\" *ngIf=\"itemRD?.hasSucceeded\" @fadeInOut>\n    <div *ngIf=\"itemRD?.payload as item\">\n      <ds-item-alerts [item]=\"item\"></ds-item-alerts>\n      <ds-item-versions-notice [item]=\"item\"></ds-item-versions-notice>\n      <ds-view-tracker [object]=\"item\"></ds-view-tracker>\n      <div *ngIf=\"!item.isWithdrawn || (isAdmin$|async)\" class=\"full-item-info\">\n        <div class=\"d-flex flex-row\">\n          <ds-item-page-title-field class=\"mr-auto\" [item]=\"item\"></ds-item-page-title-field>\n          <ds-dso-edit-menu></ds-dso-edit-menu>\n        </div>\n        <div class=\"simple-view-link my-3\" *ngIf=\"!fromSubmissionObject\">\n          <a class=\"btn btn-outline-primary\" [routerLink]=\"[(itemPageRoute$ | async)]\">\n            {{\"item.page.link.simple\" | translate}}\n          </a>\n        </div>\n        <div class=\"table-responsive\">\n          <table class=\"table  table-striped\">\n            <tbody>\n            <ng-container *ngFor=\"let mdEntry of (metadata$ | async) | keyvalue\">\n              <tr *ngFor=\"let mdValue of mdEntry.value\">\n                <td>{{mdEntry.key}}</td>\n                <td>{{mdValue.value}}</td>\n                <td>{{mdValue.language}}</td>\n              </tr>\n            </ng-container>\n            </tbody>\n          </table>\n        </div>\n        <ds-item-page-full-file-section [item]=\"item\"></ds-item-page-full-file-section>\n        <ds-item-page-collections [item]=\"item\"></ds-item-page-collections>\n        <ds-item-versions class=\"mt-2\" [item]=\"item\"></ds-item-versions>\n        <div class=\"button-row bottom\" *ngIf=\"fromSubmissionObject\">\n          <div class=\"text-right\">\n            <button class=\"btn btn-outline-secondary mr-1\" (click)=\"back()\"><i\n                    class=\"fas fa-arrow-left\"></i> {{'item.page.return' | translate}}</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <ds-error *ngIf=\"itemRD?.hasFailed\" message=\"{{'error.item' | translate}}\"></ds-error>\n  <ds-loading *ngIf=\"itemRD?.isLoading\" message=\"{{'loading.item' | translate}}\"></ds-loading>\n</div>\n","import { Component } from '@angular/core';\n\nimport { ThemedComponent } from '../../shared/theme-support/themed.component';\nimport { FullItemPageComponent } from './full-item-page.component';\n\n/**\n * Themed wrapper for FullItemPageComponent\n */\n@Component({\n  selector: 'ds-full-item-page',\n  styleUrls: [],\n  templateUrl: './../../shared/theme-support/themed.component.html',\n  standalone: true,\n  imports: [FullItemPageComponent],\n})\nexport class ThemedFullItemPageComponent extends ThemedComponent<FullItemPageComponent> {\n  protected getComponentName(): string {\n    return 'FullItemPageComponent';\n  }\n\n  protected importThemedComponent(themeName: string): Promise<any> {\n    return import(`../../../themes/${themeName}/app/item-page/full/full-item-page.component`);\n  }\n\n  protected importUnthemedComponent(): Promise<any> {\n    return import(`./full-item-page.component`);\n  }\n}\n","import {\n  AsyncPipe,\n  isPlatformServer,\n  NgIf,\n} from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Inject,\n  OnDestroy,\n  OnInit,\n  PLATFORM_ID,\n} from '@angular/core';\nimport {\n  ActivatedRoute,\n  Router,\n} from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport {\n  combineLatest,\n  Observable,\n  of,\n} from 'rxjs';\nimport {\n  map,\n  switchMap,\n  take,\n} from 'rxjs/operators';\nimport { NotifyInfoService } from 'src/app/core/coar-notify/notify-info/notify-info.service';\n\nimport { AuthorizationDataService } from '../../core/data/feature-authorization/authorization-data.service';\nimport { FeatureID } from '../../core/data/feature-authorization/feature-id';\nimport { ItemDataService } from '../../core/data/item-data.service';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { SignpostingDataService } from '../../core/data/signposting-data.service';\nimport { SignpostingLink } from '../../core/data/signposting-links.model';\nimport {\n  LinkDefinition,\n  LinkHeadService,\n} from '../../core/services/link-head.service';\nimport { ServerResponseService } from '../../core/services/server-response.service';\nimport { Item } from '../../core/shared/item.model';\nimport { getAllSucceededRemoteDataPayload } from '../../core/shared/operators';\nimport { ViewMode } from '../../core/shared/view-mode.model';\nimport { fadeInOut } from '../../shared/animations/fade';\nimport { isNotEmpty } from '../../shared/empty.util';\nimport { ErrorComponent } from '../../shared/error/error.component';\nimport { ThemedLoadingComponent } from '../../shared/loading/themed-loading.component';\nimport { ListableObjectComponentLoaderComponent } from '../../shared/object-collection/shared/listable-object/listable-object-component-loader.component';\nimport { VarDirective } from '../../shared/utils/var.directive';\nimport { ViewTrackerComponent } from '../../statistics/angulartics/dspace/view-tracker.component';\nimport { ThemedItemAlertsComponent } from '../alerts/themed-item-alerts.component';\nimport { getItemPageRoute } from '../item-page-routing-paths';\nimport { ItemVersionsComponent } from '../versions/item-versions.component';\nimport { ItemVersionsNoticeComponent } from '../versions/notice/item-versions-notice.component';\nimport { NotifyRequestsStatusComponent } from './notify-requests-status/notify-requests-status-component/notify-requests-status.component';\nimport { QaEventNotificationComponent } from './qa-event-notification/qa-event-notification.component';\n\n/**\n * This component renders a simple item page.\n * The route parameter 'id' is used to request the item it represents.\n * All fields of the item that should be displayed, are defined in its template.\n */\n@Component({\n  selector: 'ds-base-item-page',\n  styleUrls: ['./item-page.component.scss'],\n  templateUrl: './item-page.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [fadeInOut],\n  standalone: true,\n  imports: [\n    VarDirective,\n    ThemedItemAlertsComponent,\n    ItemVersionsNoticeComponent,\n    ViewTrackerComponent,\n    ListableObjectComponentLoaderComponent,\n    ItemVersionsComponent,\n    ErrorComponent,\n    ThemedLoadingComponent,\n    TranslateModule,\n    AsyncPipe,\n    NgIf,\n    NotifyRequestsStatusComponent,\n    QaEventNotificationComponent,\n  ],\n})\nexport class ItemPageComponent implements OnInit, OnDestroy {\n\n  /**\n   * The item's id\n   */\n  id: number;\n\n  /**\n   * The item wrapped in a remote-data object\n   */\n  itemRD$: Observable<RemoteData<Item>>;\n\n  /**\n   * The view-mode we're currently on\n   */\n  viewMode = ViewMode.StandalonePage;\n\n  /**\n   * Route to the item's page\n   */\n  itemPageRoute$: Observable<string>;\n\n  /**\n   * Whether the current user is an admin or not\n   */\n  isAdmin$: Observable<boolean>;\n\n  itemUrl: string;\n\n  /**\n   * Contains a list of SignpostingLink related to the item\n   */\n  signpostingLinks: SignpostingLink[] = [];\n\n  /**\n   * An array of LinkDefinition objects representing inbox links for the item page.\n   */\n  inboxTags: LinkDefinition[] = [];\n\n  coarRestApiUrls: string[] = [];\n\n  constructor(\n    protected route: ActivatedRoute,\n    protected router: Router,\n    protected items: ItemDataService,\n    protected authorizationService: AuthorizationDataService,\n    protected responseService: ServerResponseService,\n    protected signpostingDataService: SignpostingDataService,\n    protected linkHeadService: LinkHeadService,\n    protected notifyInfoService: NotifyInfoService,\n    @Inject(PLATFORM_ID) protected platformId: string,\n  ) {\n    this.initPageLinks();\n  }\n\n  /**\n   * Initialize instance variables\n   */\n  ngOnInit(): void {\n    this.itemRD$ = this.route.data.pipe(\n      map((data) => data.dso as RemoteData<Item>),\n    );\n    this.itemPageRoute$ = this.itemRD$.pipe(\n      getAllSucceededRemoteDataPayload(),\n      map((item) => getItemPageRoute(item)),\n    );\n\n    this.isAdmin$ = this.authorizationService.isAuthorized(FeatureID.AdministratorOf);\n\n  }\n\n  /**\n   * Create page links if any are retrieved by signposting endpoint\n   *\n   * @private\n   */\n  private initPageLinks(): void {\n    this.route.params.subscribe(params => {\n      combineLatest([this.signpostingDataService.getLinks(params.id).pipe(take(1)), this.getCoarLdnLocalInboxUrls()])\n        .subscribe(([signpostingLinks, coarRestApiUrls]) => {\n          let links = '';\n          this.signpostingLinks = signpostingLinks;\n\n          signpostingLinks.forEach((link: SignpostingLink) => {\n            links = links + (isNotEmpty(links) ? ', ' : '') + `<${link.href}> ; rel=\"${link.rel}\"` + (isNotEmpty(link.type) ? ` ; type=\"${link.type}\" ` : ' ');\n            let tag: LinkDefinition = {\n              href: link.href,\n              rel: link.rel,\n            };\n            if (isNotEmpty(link.type)) {\n              tag = Object.assign(tag, {\n                type: link.type,\n              });\n            }\n            this.linkHeadService.addTag(tag);\n          });\n\n          if (coarRestApiUrls.length > 0) {\n            const inboxLinks = this.initPageInboxLinks(coarRestApiUrls);\n            links = links + (isNotEmpty(links) ? ', ' : '') + inboxLinks;\n          }\n\n          if (isPlatformServer(this.platformId)) {\n            this.responseService.setHeader('Link', links);\n          }\n        });\n    });\n  }\n\n  /**\n   * Sets the COAR LDN local inbox URL if COAR configuration is enabled.\n   * If the COAR LDN local inbox URL is retrieved successfully, initializes the page inbox links.\n   */\n  private getCoarLdnLocalInboxUrls(): Observable<string[]> {\n    return this.notifyInfoService.isCoarConfigEnabled().pipe(\n      switchMap((coarLdnEnabled: boolean) => {\n        if (coarLdnEnabled) {\n          return this.notifyInfoService.getCoarLdnLocalInboxUrls();\n        } else {\n          return of([]);\n        }\n      }),\n    );\n  }\n\n  /**\n   * Initializes the page inbox links.\n   * @param coarRestApiUrls - An array of COAR REST API URLs.\n   */\n  private initPageInboxLinks(coarRestApiUrls: string[]): string {\n    const rel = this.notifyInfoService.getInboxRelationLink();\n    let links = '';\n\n    coarRestApiUrls.forEach((coarRestApiUrl: string) => {\n      // Add link to head\n      const tag: LinkDefinition = {\n        href: coarRestApiUrl,\n        rel: rel,\n      };\n      this.inboxTags.push(tag);\n      this.linkHeadService.addTag(tag);\n\n      links = links + (isNotEmpty(links) ? ', ' : '') + `<${coarRestApiUrl}> ; rel=\"${rel}\"`;\n    });\n\n    return links;\n  }\n\n  ngOnDestroy(): void {\n    this.signpostingLinks.forEach((link: SignpostingLink) => {\n      this.linkHeadService.removeTag(`href='${link.href}'`);\n    });\n    this.inboxTags.forEach((link: LinkDefinition) => {\n      this.linkHeadService.removeTag(`href='${link.href}'`);\n    });\n  }\n}\n","<div class=\"container\" *ngVar=\"(itemRD$ | async) as itemRD\">\n  <div class=\"item-page\" *ngIf=\"itemRD?.hasSucceeded\" @fadeInOut>\n    <div *ngIf=\"itemRD?.payload as item\">\n      <ds-item-alerts [item]=\"item\"></ds-item-alerts>\n      <ds-qa-event-notification [item]=\"item\"></ds-qa-event-notification>\n      <ds-notify-requests-status [itemUuid]=\"item.uuid\"></ds-notify-requests-status>\n      <ds-item-versions-notice [item]=\"item\"></ds-item-versions-notice>\n      <ds-view-tracker [object]=\"item\"></ds-view-tracker>\n      <ds-listable-object-component-loader *ngIf=\"!item.isWithdrawn || (isAdmin$|async)\" [object]=\"item\" [viewMode]=\"viewMode\"></ds-listable-object-component-loader>\n      <ds-item-versions class=\"mt-2\" [item]=\"item\" [displayActions]=\"false\"></ds-item-versions>\n    </div>\n  </div>\n  <ds-error *ngIf=\"itemRD?.hasFailed\" message=\"{{'error.item' | translate}}\"></ds-error>\n  <ds-loading *ngIf=\"itemRD?.isLoading\" message=\"{{'loading.item' | translate}}\"></ds-loading>\n</div>\n","import {\n  AsyncPipe,\n  KeyValuePipe,\n  NgForOf,\n  NgIf,\n} from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnInit,\n} from '@angular/core';\nimport {\n  filter,\n  map,\n  Observable,\n} from 'rxjs';\n\nimport { NotifyRequestsStatusDataService } from '../../../../core/data/notify-services-status-data.service';\nimport {\n  getFirstCompletedRemoteData,\n  getRemoteDataPayload,\n} from '../../../../core/shared/operators';\nimport { hasValue } from '../../../../shared/empty.util';\nimport {\n  NotifyRequestsStatus,\n  NotifyStatuses,\n} from '../notify-requests-status.model';\nimport { RequestStatusEnum } from '../notify-status.enum';\nimport { RequestStatusAlertBoxComponent } from '../request-status-alert-box/request-status-alert-box.component';\n\n@Component({\n  selector: 'ds-notify-requests-status',\n  templateUrl: './notify-requests-status.component.html',\n  styleUrls: ['./notify-requests-status.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    RequestStatusAlertBoxComponent,\n    AsyncPipe,\n    KeyValuePipe,\n    NgForOf,\n    NgIf,\n  ],\n})\n\n/**\n * Component to show an alert box for each update in th Notify feature (e.g. COAR updates)\n */\n\nexport class NotifyRequestsStatusComponent implements OnInit {\n  /**\n   * The UUID of the item.\n   */\n  @Input() itemUuid: string;\n\n  /**\n   * Observable representing the request map.\n   * The map contains request status enums as keys and arrays of notify statuses as values.\n   */\n  requestMap$: Observable<Map<RequestStatusEnum, NotifyStatuses[]>>;\n\n  constructor(private notifyInfoService: NotifyRequestsStatusDataService) { }\n\n  ngOnInit(): void {\n    this.requestMap$ = this.notifyInfoService\n      .getNotifyRequestsStatus(this.itemUuid)\n      .pipe(\n        getFirstCompletedRemoteData(),\n        filter((data) => hasValue(data)),\n        getRemoteDataPayload(),\n        filter((data: NotifyRequestsStatus) => hasValue(data)),\n        map((data: NotifyRequestsStatus) => {\n          return this.groupDataByStatus(data);\n        }),\n      );\n  }\n\n  /**\n   * Groups the notify requests status data by status.\n   * @param notifyRequestsStatus The notify requests status data.\n   */\n  private groupDataByStatus(notifyRequestsStatus: NotifyRequestsStatus) {\n    const statusMap: Map<RequestStatusEnum, NotifyStatuses[]> = new Map();\n    notifyRequestsStatus.notifyStatus?.forEach(\n      (notifyStatus: NotifyStatuses) => {\n        const status = notifyStatus.status;\n\n        if (!statusMap.has(status)) {\n          statusMap.set(status, []);\n        }\n\n        statusMap.get(status)?.push(notifyStatus);\n      },\n    );\n\n    return statusMap;\n  }\n}\n","<ng-container *ngIf=\"(requestMap$ | async)?.size > 0\">\n  <ng-container *ngFor=\"let entry of (requestMap$ | async) | keyvalue \">\n    <ds-request-status-alert-box [status]=\"entry.key\" [data]=\"entry.value\"></ds-request-status-alert-box>\n  </ng-container>\n</ng-container>\n","export enum RequestStatusEnum {\n  ACCEPTED = 'ACCEPTED',\n  REJECTED = 'REJECTED',\n  REQUESTED = 'REQUESTED',\n}\n","import {\n  NgClass,\n  NgForOf,\n  NgIf,\n} from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  type OnInit,\n} from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { TruncatableComponent } from '../../../../shared/truncatable/truncatable.component';\nimport { TruncatablePartComponent } from '../../../../shared/truncatable/truncatable-part/truncatable-part.component';\nimport { NotifyStatuses } from '../notify-requests-status.model';\nimport { RequestStatusEnum } from '../notify-status.enum';\n\n@Component({\n  selector: 'ds-request-status-alert-box',\n  templateUrl: './request-status-alert-box.component.html',\n  styleUrls: ['./request-status-alert-box.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    NgIf,\n    TruncatablePartComponent,\n    TruncatableComponent,\n    NgForOf,\n    TranslateModule,\n    NgClass,\n  ],\n})\n/**\n * Represents a component that displays the status of a request.\n */\nexport class RequestStatusAlertBoxComponent implements OnInit {\n  /**\n   * The status of the request.\n   */\n  @Input() status: RequestStatusEnum;\n\n  /**\n   * The input data for the request status alert box component.\n   * @type {NotifyStatuses[]}\n   */\n  @Input() data: NotifyStatuses[] = [];\n\n  /**\n   * The display options for the request status alert box.\n   */\n  displayOptions: NotifyRequestDisplayOptions;\n\n  ngOnInit(): void {\n    this.prepareDataToDisplay();\n  }\n\n  /**\n   * Prepares the data to be displayed based on the current status.\n   */\n  private prepareDataToDisplay() {\n    switch (this.status) {\n      case RequestStatusEnum.ACCEPTED:\n        this.displayOptions = {\n          alertType: 'alert-info',\n          text: 'request-status-alert-box.accepted',\n        };\n        break;\n\n      case RequestStatusEnum.REJECTED:\n        this.displayOptions = {\n          alertType: 'alert-danger',\n          text: 'request-status-alert-box.rejected',\n        };\n        break;\n\n      case RequestStatusEnum.REQUESTED:\n        this.displayOptions = {\n          alertType: 'alert-warning',\n          text: 'request-status-alert-box.requested',\n        };\n        break;\n    }\n  }\n}\n\n/**\n * Represents the display options for a notification request.\n */\nexport interface NotifyRequestDisplayOptions {\n  /**\n   * The type of alert to display.\n   * Possible values are 'alert-danger', 'alert-warning', or 'alert-info'.\n   */\n  alertType: 'alert-danger' | 'alert-warning' | 'alert-info';\n  /**\n   * The text to display in the notification.\n   */\n  text: string;\n}\n","<ng-container *ngIf=\"data?.length > 0 && displayOptions\">\n  <div [ngClass]=\"{'align-items-center': data.length === 1}\"\n    class=\"alert d-flex flex-row sections-gap {{displayOptions.alertType}}\">\n    <img\n      class=\"source-logo\"\n      src=\"assets/images/qa-coar-notify-logo.png\"\n      alt=\"notify logo\"\n    />\n    <ds-truncatable [id]=\"status\">\n      <ds-truncatable-part [id]=\"status\" [minLines]=\"1\">\n        <div class=\"w-100 d-flex flex-column\">\n          <ng-container *ngFor=\"let request of data\">\n            <div [innerHTML]=\"displayOptions.text | translate: {\n                  serviceName: request.serviceName,\n                  serviceUrl: request.serviceUrl,\n                  offerType: request.offerType\n                }\"></div>\n          </ng-container>\n        </div>\n      </ds-truncatable-part>\n    </ds-truncatable>\n  </div>\n</ng-container>\n","import {\n  AsyncPipe,\n  NgForOf,\n  NgIf,\n} from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  SimpleChanges,\n} from '@angular/core';\nimport { RouterLink } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport {\n  catchError,\n  map,\n} from 'rxjs/operators';\n\nimport { getNotificatioQualityAssuranceRoute } from '../../../admin/admin-routing-paths';\nimport { RequestParam } from '../../../core/cache/models/request-param.model';\nimport { FindListOptions } from '../../../core/data/find-list-options.model';\nimport { PaginatedList } from '../../../core/data/paginated-list.model';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { QualityAssuranceSourceObject } from '../../../core/notifications/qa/models/quality-assurance-source.model';\nimport { QualityAssuranceSourceDataService } from '../../../core/notifications/qa/source/quality-assurance-source-data.service';\nimport { Item } from '../../../core/shared/item.model';\nimport { getFirstCompletedRemoteData } from '../../../core/shared/operators';\nimport { SplitPipe } from '../../../shared/utils/split.pipe';\n\n@Component({\n  selector: 'ds-qa-event-notification',\n  templateUrl: './qa-event-notification.component.html',\n  styleUrls: ['./qa-event-notification.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [QualityAssuranceSourceDataService],\n  imports: [\n    NgIf,\n    NgForOf,\n    AsyncPipe,\n    RouterLink,\n    TranslateModule,\n    SplitPipe,\n  ],\n  standalone: true,\n})\n/**\n * Component for displaying quality assurance event notifications for an item.\n */\nexport class QaEventNotificationComponent implements OnChanges {\n  /**\n   * The item to display quality assurance event notifications for.\n   */\n  @Input() item: Item;\n\n  /**\n   * An observable that emits an array of QualityAssuranceSourceObject.\n   */\n  sources$: Observable<QualityAssuranceSourceObject[]>;\n\n  constructor(\n    private qualityAssuranceSourceDataService: QualityAssuranceSourceDataService,\n  ) {}\n\n  /**\n    * Detect changes to the item input and update the sources$ observable.\n   */\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.item && changes.item.currentValue.uuid !== changes.item.previousValue?.uuid) {\n      this.sources$ = this.getQualityAssuranceSources$();\n    }\n  }\n  /**\n   * Returns an Observable of QualityAssuranceSourceObject[] for the current item.\n   * @returns An Observable of QualityAssuranceSourceObject[] for the current item.\n   * Note: sourceId is composed as: id: \"sourceName:<target>\"\n   */\n  getQualityAssuranceSources$(): Observable<QualityAssuranceSourceObject[]> {\n    const findListTopicOptions: FindListOptions = {\n      searchParams: [new RequestParam('target', this.item.uuid)],\n    };\n    return this.qualityAssuranceSourceDataService.getSourcesByTarget(findListTopicOptions, false)\n      .pipe(\n        getFirstCompletedRemoteData(),\n        map((data: RemoteData<PaginatedList<QualityAssuranceSourceObject>>) => {\n          if (data.hasSucceeded) {\n            return data.payload.page;\n          }\n          return [];\n        }),\n        catchError(() => []),\n      );\n  }\n\n  /**\n   * Returns the quality assurance route.\n   * @returns The quality assurance route.\n   */\n  getQualityAssuranceRoute(): string {\n    return getNotificatioQualityAssuranceRoute();\n  }\n}\n","<ng-container *ngIf=\"(sources$ | async) as sources\">\n  <ng-container *ngFor=\"let source of sources\">\n    <div class=\"alert alert-info d-flex flex-row\" *ngIf=\"source.totalEvents > 0\">\n      <div class=\"source-logo-container\">\n        <img class=\"source-logo\"\n             src=\"assets/images/qa-{{(source.id | dsSplit: ':')[0]}}-logo.png\"\n             alt=\"{{source.id}} logo\"\n             onerror=\"this.src='assets/images/dspace-logo.svg'\">\n      </div>\n      <div class=\"w-100 d-flex justify-content-between\">\n        <div class=\"pl-4 align-self-center\">\n          {{'item.qa-event-notification.check.notification-info' | translate : {num: source.totalEvents } }}\n        </div>\n        <button [routerLink]=\"[ getQualityAssuranceRoute(), (source.id | dsSplit: ':')[0], 'target', item.id]\"\n                [queryParams]=\"{ forward: true }\"\n                class=\"btn btn-primary align-self-center\">\n                {{'item.qa-event-notification-info.check.button' | translate}}\n        </button>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n","import {\n  Component,\n  EventEmitter,\n  Output,\n} from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@Component({\n  selector: 'ds-item-versions-delete-modal',\n  templateUrl: './item-versions-delete-modal.component.html',\n  styleUrls: ['./item-versions-delete-modal.component.scss'],\n  standalone: true,\n  imports: [TranslateModule],\n})\nexport class ItemVersionsDeleteModalComponent {\n  /**\n   * An event fired when the cancel or confirm button is clicked, with respectively false or true\n   */\n  @Output()\n  response = new EventEmitter<boolean>();\n\n  versionNumber: number;\n\n  constructor(\n    protected activeModal: NgbActiveModal) {\n  }\n\n  onModalClose() {\n    this.response.emit(false);\n    this.activeModal.dismiss();\n  }\n\n  onModalSubmit() {\n    this.response.emit(true);\n    this.activeModal.close();\n  }\n\n}\n","<div>\n  <div class=\"modal-header\">{{'item.version.delete.modal.header' | translate}}\n    <button type=\"button\" class=\"close\" (click)=\"onModalClose()\" aria-label=\"Close\">\n      <span aria-hidden=\"true\"></span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <p class=\"pb-2\">{{ \"item.version.delete.modal.text\" | translate : {version: versionNumber} }}</p>\n  </div>\n  <div class=\"modal-footer\">\n    <button class=\"btn btn-outline-secondary btn-sm cancel\"\n            (click)=\"onModalClose()\"\n            title=\"{{'item.version.delete.modal.button.cancel.tooltip' | translate}}\">\n      <i class=\"fas fa-times fa-fw\"></i> {{'item.version.delete.modal.button.cancel' | translate}}\n    </button>\n    <button class=\"btn btn-danger btn-sm confirm\"\n            (click)=\"onModalSubmit()\"\n            title=\"{{'item.version.delete.modal.button.confirm.tooltip' | translate}}\">\n      <i class=\"fas fa-check fa-fw\"></i> {{'item.version.delete.modal.button.confirm' | translate}}\n    </button>\n  </div>\n</div>\n","import {\n  AsyncPipe,\n  NgClass,\n  NgIf,\n} from '@angular/common';\nimport {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport {\n  Router,\n  RouterLink,\n} from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport {\n  TranslateModule,\n  TranslateService,\n} from '@ngx-translate/core';\nimport {\n  combineLatest,\n  concatMap,\n  Observable,\n  of,\n} from 'rxjs';\nimport {\n  map,\n  mergeMap,\n  switchMap,\n  take,\n  tap,\n} from 'rxjs/operators';\n\nimport { AuthorizationDataService } from '../../../core/data/feature-authorization/authorization-data.service';\nimport { FeatureID } from '../../../core/data/feature-authorization/feature-id';\nimport { ItemDataService } from '../../../core/data/item-data.service';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { VersionDataService } from '../../../core/data/version-data.service';\nimport { VersionHistoryDataService } from '../../../core/data/version-history-data.service';\nimport { Item } from '../../../core/shared/item.model';\nimport {\n  getFirstCompletedRemoteData,\n  getFirstSucceededRemoteDataPayload,\n} from '../../../core/shared/operators';\nimport { Version } from '../../../core/shared/version.model';\nimport { VersionHistory } from '../../../core/shared/version-history.model';\nimport { WorkspaceItem } from '../../../core/submission/models/workspaceitem.model';\nimport { WorkflowItemDataService } from '../../../core/submission/workflowitem-data.service';\nimport { WorkspaceitemDataService } from '../../../core/submission/workspaceitem-data.service';\nimport { BtnDisabledDirective } from '../../../shared/btn-disabled.directive';\nimport { NotificationsService } from '../../../shared/notifications/notifications.service';\nimport {\n  getItemEditVersionhistoryRoute,\n  getItemVersionRoute,\n} from '../../item-page-routing-paths';\nimport { ItemVersionsDeleteModalComponent } from '../item-versions-delete-modal/item-versions-delete-modal.component';\nimport { ItemVersionsSharedService } from '../item-versions-shared.service';\nimport { ItemVersionsSummaryModalComponent } from '../item-versions-summary-modal/item-versions-summary-modal.component';\n\n@Component({\n  selector: 'ds-item-versions-row-element-version',\n  standalone: true,\n  imports: [\n    AsyncPipe,\n    RouterLink,\n    TranslateModule,\n    NgClass,\n    NgIf,\n    BtnDisabledDirective,\n  ],\n  templateUrl: './item-versions-row-element-version.component.html',\n  styleUrl: './item-versions-row-element-version.component.scss',\n})\nexport class ItemVersionsRowElementVersionComponent implements OnInit {\n  @Input() hasDraftVersion: boolean | null;\n  @Input() version: Version;\n  @Input() itemVersion: Version;\n  @Input() item: Item;\n  @Input() displayActions: boolean;\n  @Input() versionBeingEditedNumber: number;\n\n  @Output() versionsHistoryChange = new EventEmitter<Observable<VersionHistory>>();\n\n  workspaceId$: Observable<string>;\n  workflowId$: Observable<string>;\n  canDeleteVersion$: Observable<boolean>;\n  canCreateVersion$: Observable<boolean>;\n\n  createVersionTitle: string;\n\n  constructor(\n    private workspaceItemDataService: WorkspaceitemDataService,\n    private workflowItemDataService: WorkflowItemDataService,\n    private router: Router,\n    private itemService: ItemDataService,\n    private authorizationService: AuthorizationDataService,\n    private itemVersionShared: ItemVersionsSharedService,\n    private versionHistoryService: VersionHistoryDataService,\n    private versionService: VersionDataService,\n    private notificationsService: NotificationsService,\n    private translateService: TranslateService,\n    private modalService: NgbModal,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.workspaceId$ = this.getWorkspaceId(this.version.item);\n    this.workflowId$ = this.getWorkflowId(this.version.item);\n    this.canDeleteVersion$ = this.canDeleteVersion(this.version);\n    this.canCreateVersion$ = this.authorizationService.isAuthorized(FeatureID.CanCreateVersion, this.item.self);\n\n    this.createVersionTitle = this.hasDraftVersion ? 'item.version.history.table.action.hasDraft' : 'item.version.history.table.action.newVersion';\n  }\n\n\n  /**\n   * Get the ID of the workspace item, if present, otherwise return undefined\n   * @param versionItem the item for which retrieve the workspace item id\n   */\n  getWorkspaceId(versionItem: Observable<RemoteData<Item>>): Observable<string> {\n    if (!this.hasDraftVersion) {\n      return of(undefined);\n    }\n    return versionItem.pipe(\n      getFirstSucceededRemoteDataPayload(),\n      map((item: Item) => item.uuid),\n      switchMap((itemUuid: string) => this.workspaceItemDataService.findByItem(itemUuid, true)),\n      getFirstCompletedRemoteData<WorkspaceItem>(),\n      map((res: RemoteData<WorkspaceItem>) => res?.payload?.id),\n    );\n  }\n\n  /**\n   * Get the ID of the workflow item, if present, otherwise return undefined\n   * @param versionItem the item for which retrieve the workspace item id\n   */\n  getWorkflowId(versionItem: Observable<RemoteData<Item>>): Observable<string> {\n    return this.getWorkspaceId(versionItem).pipe(\n      concatMap((workspaceId: string) => {\n        if (workspaceId) {\n          return of(undefined);\n        }\n        return versionItem.pipe(\n          getFirstSucceededRemoteDataPayload(),\n          map((item: Item) => item.uuid),\n          switchMap((itemUuid: string) => this.workflowItemDataService.findByItem(itemUuid, true)),\n          getFirstCompletedRemoteData<WorkspaceItem>(),\n          map((res: RemoteData<WorkspaceItem>) => res?.payload?.id),\n        );\n      }),\n    );\n  }\n\n  /**\n   * redirect to the edit page of the workspace item\n   * @param id$ the id of the workspace item\n   */\n  editWorkspaceItem(id$: Observable<string>) {\n    id$.subscribe((id) => {\n      void this.router.navigateByUrl('workspaceitems/' + id + '/edit');\n    });\n  }\n\n  /**\n   * Check if the current user can delete the version\n   * @param version\n   */\n  canDeleteVersion(version: Version): Observable<boolean> {\n    return this.authorizationService.isAuthorized(FeatureID.CanDeleteVersion, version.self);\n  }\n\n  /**\n   * Get the route to the specified version\n   * @param versionId the ID of the version for which the route will be retrieved\n   */\n  getVersionRoute(versionId: string) {\n    return getItemVersionRoute(versionId);\n  }\n\n  /**\n   * Creates a new version starting from the specified one\n   * @param version the version from which a new one will be created\n   */\n  createNewVersion(version: Version) {\n    const versionNumber = version.version;\n\n    // Open modal and set current version number\n    const activeModal = this.modalService.open(ItemVersionsSummaryModalComponent);\n    activeModal.componentInstance.versionNumber = versionNumber;\n\n    // On createVersionEvent emitted create new version and notify\n    activeModal.componentInstance.createVersionEvent.pipe(\n      mergeMap((summary: string) => combineLatest([\n        of(summary),\n        version.item.pipe(getFirstSucceededRemoteDataPayload()),\n      ])),\n      mergeMap(([summary, item]: [string, Item]) => this.versionHistoryService.createVersion(item._links.self.href, summary)),\n      getFirstCompletedRemoteData(),\n      // close model (should be displaying loading/waiting indicator) when version creation failed/succeeded\n      tap(() => activeModal.close()),\n      // show success/failure notification\n      tap((newVersionRD: RemoteData<Version>) => {\n        this.itemVersionShared.notifyCreateNewVersion(newVersionRD);\n        if (newVersionRD.hasSucceeded) {\n          const versionHistory$ = this.versionService.getHistoryFromVersion(version).pipe(\n            tap((versionHistory: VersionHistory) => {\n              this.itemService.invalidateItemCache(this.item.uuid);\n              this.versionHistoryService.invalidateVersionHistoryCache(versionHistory.id);\n            }),\n          );\n          this.versionsHistoryChange.emit(versionHistory$);\n        }\n      }),\n      // get workspace item\n      getFirstSucceededRemoteDataPayload<Version>(),\n      switchMap((newVersion: Version) => this.itemService.findByHref(newVersion._links.item.href)),\n      getFirstSucceededRemoteDataPayload<Item>(),\n      switchMap((newVersionItem: Item) => this.workspaceItemDataService.findByItem(newVersionItem.uuid, true, false)),\n      getFirstSucceededRemoteDataPayload<WorkspaceItem>(),\n    ).subscribe((wsItem) => {\n      const wsiId = wsItem.id;\n      const route = 'workspaceitems/' + wsiId + '/edit';\n      this.router.navigateByUrl(route);\n    });\n  }\n\n  /**\n   * Deletes the specified version, notify the success/failure and redirect to latest version\n   * @param version the version to be deleted\n   * @param redirectToLatest force the redirect to the latest version in the history\n   */\n  deleteVersion(version: Version, redirectToLatest: boolean): void {\n    const successMessageKey = 'item.version.delete.notification.success';\n    const failureMessageKey = 'item.version.delete.notification.failure';\n    const versionNumber = version.version;\n    const versionItem$ = version.item;\n\n    // Open modal\n    const activeModal = this.modalService.open(ItemVersionsDeleteModalComponent);\n    activeModal.componentInstance.versionNumber = version.version;\n    activeModal.componentInstance.firstVersion = false;\n\n    // On modal submit/dismiss\n    activeModal.componentInstance.response.pipe(take(1)).subscribe((ok) => {\n      if (ok) {\n        versionItem$.pipe(\n          getFirstSucceededRemoteDataPayload<Item>(),\n          // Retrieve version history\n          mergeMap((item: Item) => combineLatest([\n            of(item),\n            this.versionHistoryService.getVersionHistoryFromVersion$(version),\n          ])),\n          // Delete item\n          mergeMap(([item, versionHistory]: [Item, VersionHistory]) => combineLatest([\n            this.deleteItemAndGetResult$(item),\n            of(versionHistory),\n          ])),\n          // Retrieve new latest version\n          mergeMap(([deleteItemResult, versionHistory]: [boolean, VersionHistory]) => combineLatest([\n            of(deleteItemResult),\n            this.versionHistoryService.getLatestVersionItemFromHistory$(versionHistory).pipe(\n              tap(() => {\n                this.versionsHistoryChange.emit(of(versionHistory));\n              }),\n            ),\n          ])),\n        ).subscribe(([deleteHasSucceeded, newLatestVersionItem]: [boolean, Item]) => {\n          // Notify operation result and redirect to latest item\n          if (deleteHasSucceeded) {\n            this.notificationsService.success(null, this.translateService.get(successMessageKey, { 'version': versionNumber }));\n          } else {\n            this.notificationsService.error(null, this.translateService.get(failureMessageKey, { 'version': versionNumber }));\n          }\n          if (redirectToLatest) {\n            const path = getItemEditVersionhistoryRoute(newLatestVersionItem);\n            this.router.navigateByUrl(path);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Delete the item and get the result of the operation\n   * @param item\n   */\n  deleteItemAndGetResult$(item: Item): Observable<boolean> {\n    return this.itemService.delete(item.id).pipe(\n      getFirstCompletedRemoteData(),\n      map((deleteItemRes) => deleteItemRes.hasSucceeded),\n      take(1),\n    );\n  }\n\n  /**\n   * True when a version is being edited\n   * (used to disable buttons for other versions)\n   */\n  isAnyBeingEdited(): boolean {\n    return this.versionBeingEditedNumber != null;\n  }\n}\n","    <div class=\"left-column\">\n      <span *ngIf=\"(workspaceId$ | async) || (workflowId$ | async); then versionNumberWithoutLink else versionNumberWithLink\"></span>\n      <ng-template #versionNumberWithLink>\n        <a [routerLink]=\"getVersionRoute(version.id)\">{{version.version}}</a>\n      </ng-template>\n      <ng-template #versionNumberWithoutLink>\n        {{version.version}}\n      </ng-template>\n      <span *ngIf=\"version?.id === itemVersion?.id\">*</span>\n\n      <span *ngIf=\"workspaceId$ | async\" class=\"text-light badge badge-primary ml-3\">\n                      {{ \"item.version.history.table.workspaceItem\" | translate }}\n                    </span>\n\n      <span *ngIf=\"workflowId$ | async\" class=\"text-light badge badge-info ml-3\">\n                      {{ \"item.version.history.table.workflowItem\" | translate }}\n                    </span>\n\n    </div>\n\n    <div class=\"right-column\">\n\n      <div class=\"btn-group edit-field space-children-mr\" *ngIf=\"displayActions\">\n        <!--EDIT WORKSPACE ITEM-->\n        <button class=\"btn btn-outline-primary btn-sm version-row-element-edit\"\n                *ngIf=\"workspaceId$ | async\"\n                (click)=\"editWorkspaceItem(workspaceId$)\"\n                title=\"{{'item.version.history.table.action.editWorkspaceItem' | translate }}\">\n          <i class=\"fas fa-pencil-alt fa-fw\"></i>\n        </button>\n        <!--CREATE-->\n        <ng-container *ngIf=\"canCreateVersion$ | async\">\n          <button class=\"btn btn-outline-primary btn-sm version-row-element-create\"\n                  [dsBtnDisabled]=\"isAnyBeingEdited() || hasDraftVersion\"\n                  (click)=\"createNewVersion(version)\"\n                  title=\"{{createVersionTitle | translate }}\">\n            <i class=\"fas fa-code-branch fa-fw\"></i>\n          </button>\n        </ng-container>\n        <!--DELETE-->\n        <ng-container *ngIf=\"canDeleteVersion$ | async\">\n          <button class=\"btn btn-sm version-row-element-delete\"\n                  [ngClass]=\"isAnyBeingEdited() ? 'btn-outline-primary' : 'btn-outline-danger'\"\n                  [dsBtnDisabled]=\"isAnyBeingEdited()\"\n                  (click)=\"deleteVersion(version, version.id === itemVersion.id)\"\n                  title=\"{{'item.version.history.table.action.deleteVersion' | translate}}\">\n            <i class=\"fas fa-trash fa-fw\"></i>\n          </button>\n        </ng-container>\n      </div>\n\n    </div>\n\n","import {\n  AsyncPipe,\n  DatePipe,\n  NgClass,\n  NgFor,\n  NgIf,\n} from '@angular/common';\nimport {\n  Component,\n  Input,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport {\n  TranslateModule,\n  TranslateService,\n} from '@ngx-translate/core';\nimport {\n  combineLatest,\n  Observable,\n  Subscription,\n} from 'rxjs';\nimport {\n  map,\n  startWith,\n  switchMap,\n  take,\n} from 'rxjs/operators';\n\nimport { ConfigurationDataService } from '../../core/data/configuration-data.service';\nimport { AuthorizationDataService } from '../../core/data/feature-authorization/authorization-data.service';\nimport { FeatureID } from '../../core/data/feature-authorization/feature-id';\nimport { PaginatedList } from '../../core/data/paginated-list.model';\nimport { RemoteData } from '../../core/data/remote-data';\nimport { VersionDataService } from '../../core/data/version-data.service';\nimport { VersionHistoryDataService } from '../../core/data/version-history-data.service';\nimport { PaginationService } from '../../core/pagination/pagination.service';\nimport { Item } from '../../core/shared/item.model';\nimport {\n  getAllSucceededRemoteData,\n  getAllSucceededRemoteDataPayload,\n  getFirstCompletedRemoteData,\n  getFirstSucceededRemoteData,\n  getFirstSucceededRemoteDataPayload,\n  getRemoteDataPayload,\n} from '../../core/shared/operators';\nimport { Version } from '../../core/shared/version.model';\nimport { VersionHistory } from '../../core/shared/version-history.model';\nimport { AlertComponent } from '../../shared/alert/alert.component';\nimport { AlertType } from '../../shared/alert/alert-type';\nimport { BtnDisabledDirective } from '../../shared/btn-disabled.directive';\nimport {\n  hasValue,\n  hasValueOperator,\n} from '../../shared/empty.util';\nimport { NotificationsService } from '../../shared/notifications/notifications.service';\nimport { PaginationComponent } from '../../shared/pagination/pagination.component';\nimport { PaginationComponentOptions } from '../../shared/pagination/pagination-component-options.model';\nimport { PaginatedSearchOptions } from '../../shared/search/models/paginated-search-options.model';\nimport { followLink } from '../../shared/utils/follow-link-config.model';\nimport { VarDirective } from '../../shared/utils/var.directive';\nimport { getItemPageRoute } from '../item-page-routing-paths';\nimport { ItemVersionsRowElementVersionComponent } from './item-versions-row-element-version/item-versions-row-element-version.component';\n\ninterface VersionsDTO {\n  totalElements: number;\n  versionDTOs: VersionDTO[];\n}\n\ninterface VersionDTO {\n  version: Version;\n  canEditVersion: Observable<boolean>;\n}\n\n@Component({\n  selector: 'ds-item-versions',\n  templateUrl: './item-versions.component.html',\n  styleUrls: ['./item-versions.component.scss'],\n  standalone: true,\n  imports: [VarDirective, NgIf, AlertComponent, PaginationComponent, NgFor, RouterLink, NgClass, FormsModule, AsyncPipe, DatePipe, TranslateModule, ItemVersionsRowElementVersionComponent, BtnDisabledDirective],\n})\n\n/**\n * Component listing all available versions of the history the provided item is a part of\n */\nexport class ItemVersionsComponent implements OnDestroy, OnInit {\n\n  /**\n   * The item to display a version history for\n   */\n  @Input() item: Item;\n\n  /**\n   * An option to display the list of versions, even when there aren't any.\n   * Instead of the table, an alert will be displayed, notifying the user there are no other versions present\n   * for the current item.\n   */\n  @Input() displayWhenEmpty = false;\n\n  /**\n   * Whether or not to display the title\n   */\n  @Input() displayTitle = true;\n\n  /**\n   * Whether or not to display the action buttons (delete/create/edit version)\n   */\n  @Input() displayActions: boolean;\n\n  /**\n   * Array of active subscriptions\n   */\n  subs: Subscription[] = [];\n\n  /**\n   * The AlertType enumeration\n   * @type {AlertType}\n   */\n  AlertTypeEnum = AlertType;\n\n  /**\n   * The item's version\n   */\n  versionRD$: Observable<RemoteData<Version>>;\n\n  /**\n   * The item's full version history (remote data)\n   */\n  versionHistoryRD$: Observable<RemoteData<VersionHistory>>;\n\n  /**\n   * The item's full version history\n   */\n  versionHistory$: Observable<VersionHistory>;\n\n  /**\n   * The version history information that is used to render the HTML\n   */\n  versionsDTO$: Observable<VersionsDTO>;\n\n  /**\n   * Verify if the list of versions has at least one e-person to display\n   * Used to hide the \"Editor\" column when no e-persons are present to display\n   */\n  hasEpersons$: Observable<boolean>;\n  /**\n   * Verify if there is an inprogress submission in the version history\n   * Used to disable the \"Create version\" button\n   */\n  hasDraftVersion$: Observable<boolean>;\n\n  /**\n   * Show submitter in version history table\n   */\n  showSubmitter$: Observable<boolean> = this.showSubmitter();\n\n  /**\n   * The amount of versions to display per page\n   */\n  pageSize = 10;\n\n  /**\n   * The page options to use for fetching the versions\n   * Start at page 1 and always use the set page size\n   */\n  options = Object.assign(new PaginationComponentOptions(), {\n    id: 'ivo',\n    currentPage: 1,\n    pageSize: this.pageSize,\n  });\n\n  /**\n   * The routes to the versions their item pages\n   * Key: Item ID\n   * Value: Route to item page\n   */\n  itemPageRoutes$: Observable<{\n    [itemId: string]: string\n  }>;\n\n  /**\n   * The number of the version whose summary is currently being edited\n   */\n  versionBeingEditedNumber: number;\n\n  /**\n   * The id of the version whose summary is currently being edited\n   */\n  versionBeingEditedId: string;\n\n  /**\n   * The summary currently being edited\n   */\n  versionBeingEditedSummary: string;\n\n  constructor(private versionHistoryService: VersionHistoryDataService,\n              private versionService: VersionDataService,\n              private paginationService: PaginationService,\n              private notificationsService: NotificationsService,\n              private translateService: TranslateService,\n              private authorizationService: AuthorizationDataService,\n              private configurationService: ConfigurationDataService,\n  ) {\n  }\n\n  /**\n   * True when a version is being edited\n   * (used to disable buttons for other versions)\n   */\n  isAnyBeingEdited(): boolean {\n    return this.versionBeingEditedNumber != null;\n  }\n\n  /**\n   * True if the specified version is being edited\n   * (used to show input field and to change buttons for specified version)\n   */\n  isThisBeingEdited(version: Version): boolean {\n    return version?.version === this.versionBeingEditedNumber;\n  }\n\n  /**\n   * Enables editing for the specified version\n   */\n  enableVersionEditing(version: Version): void {\n    this.versionBeingEditedSummary = version?.summary;\n    this.versionBeingEditedNumber = version?.version;\n    this.versionBeingEditedId = version?.id;\n  }\n\n  /**\n   * Disables editing for the specified version and discards all pending changes\n   */\n  disableVersionEditing(): void {\n    this.versionBeingEditedSummary = undefined;\n    this.versionBeingEditedNumber = undefined;\n    this.versionBeingEditedId = undefined;\n  }\n\n  /**\n   * Applies changes to version currently being edited\n   */\n  onSummarySubmit() {\n\n    const successMessageKey = 'item.version.edit.notification.success';\n    const failureMessageKey = 'item.version.edit.notification.failure';\n\n    this.versionService.findById(this.versionBeingEditedId).pipe(\n      getFirstSucceededRemoteData(),\n      switchMap((findRes: RemoteData<Version>) => {\n        const payload = findRes.payload;\n        const summary = { summary: this.versionBeingEditedSummary };\n        const updatedVersion = Object.assign({}, payload, summary);\n        return this.versionService.update(updatedVersion).pipe(getFirstCompletedRemoteData<Version>());\n      }),\n    ).subscribe((updatedVersionRD: RemoteData<Version>) => {\n      if (updatedVersionRD.hasSucceeded) {\n        this.notificationsService.success(null, this.translateService.get(successMessageKey, { 'version': this.versionBeingEditedNumber }));\n        this.getAllVersions(this.versionHistory$);\n      } else {\n        this.notificationsService.warning(null, this.translateService.get(failureMessageKey, { 'version': this.versionBeingEditedNumber }));\n      }\n      this.disableVersionEditing();\n    },\n    );\n  }\n\n  /**\n   * Check is the current user can edit the version summary\n   * @param version\n   */\n  canEditVersion$(version: Version): Observable<boolean> {\n    return this.authorizationService.isAuthorized(FeatureID.CanEditVersion, version.self);\n  }\n\n  /**\n   * Show submitter in version history table\n   */\n  showSubmitter() {\n\n    const includeSubmitter$ = this.configurationService.findByPropertyName('versioning.item.history.include.submitter').pipe(\n      getFirstSucceededRemoteDataPayload(),\n      map((configurationProperty) => configurationProperty.values[0]),\n      startWith(false),\n    );\n\n    const isAdmin$ = combineLatest([\n      this.authorizationService.isAuthorized(FeatureID.IsCollectionAdmin),\n      this.authorizationService.isAuthorized(FeatureID.IsCommunityAdmin),\n      this.authorizationService.isAuthorized(FeatureID.AdministratorOf),\n    ]).pipe(\n      map(([isCollectionAdmin, isCommunityAdmin, isSiteAdmin]) => {\n        return isCollectionAdmin || isCommunityAdmin || isSiteAdmin;\n      }),\n      take(1),\n    );\n\n    return combineLatest([includeSubmitter$, isAdmin$]).pipe(\n      map(([includeSubmitter, isAdmin]) => {\n        return includeSubmitter && isAdmin;\n      }),\n    );\n\n  }\n\n  /**\n   * Get all versions for the given version history and store them in versionRD$\n   * @param versionHistory$\n   */\n  getAllVersions(versionHistory$: Observable<VersionHistory>): void {\n    const currentPagination = this.paginationService.getCurrentPagination(this.options.id, this.options);\n    this.versionsDTO$ = combineLatest([versionHistory$, currentPagination]).pipe(\n      switchMap(([versionHistory, options]: [VersionHistory, PaginationComponentOptions]) => {\n        return this.versionHistoryService.getVersions(versionHistory.id,\n          new PaginatedSearchOptions({ pagination: Object.assign({}, options, { currentPage: options.currentPage }) }),\n          false, true, followLink('item'), followLink('eperson'));\n      }),\n      getFirstCompletedRemoteData(),\n      getRemoteDataPayload(),\n      map((versions: PaginatedList<Version>) => ({\n        totalElements: versions.totalElements,\n        versionDTOs: (versions?.page ?? []).map((version: Version) => ({\n          version: version,\n          canEditVersion: this.canEditVersion$(version),\n        })),\n      })),\n    );\n  }\n\n  /**\n   * Updates the page\n   */\n  onPageChange() {\n    this.getAllVersions(this.versionHistory$);\n  }\n\n  /**\n   * Initialize all observables\n   */\n  ngOnInit(): void {\n    if (hasValue(this.item.version)) {\n      this.versionRD$ = this.item.version;\n      this.versionHistoryRD$ = this.versionRD$.pipe(\n        getAllSucceededRemoteData(),\n        getRemoteDataPayload(),\n        hasValueOperator(),\n        switchMap((version: Version) => version.versionhistory),\n      );\n      this.versionHistory$ = this.versionHistoryRD$.pipe(\n        getFirstSucceededRemoteDataPayload(),\n        hasValueOperator(),\n      );\n\n      // If there is a draft item in the version history the 'Create version' button is disabled and a different tooltip message is shown\n      this.hasDraftVersion$ = this.versionHistoryRD$.pipe(\n        getFirstSucceededRemoteDataPayload(),\n        map((res) => Boolean(res?.draftVersion)),\n      );\n\n      this.getAllVersions(this.versionHistory$);\n      this.hasEpersons$ = this.versionsDTO$.pipe(\n        map((versionsDTO: VersionsDTO) => versionsDTO.versionDTOs.filter((versionDTO: VersionDTO) => versionDTO.version.eperson !== undefined).length > 0),\n        startWith(false),\n      );\n      this.itemPageRoutes$ = this.versionsDTO$.pipe(\n        switchMap((versionsDTO: VersionsDTO) => combineLatest(versionsDTO.versionDTOs.map((versionDTO: VersionDTO) => versionDTO.version.item.pipe(getAllSucceededRemoteDataPayload())))),\n        map((versions) => {\n          const itemPageRoutes = {};\n          versions.forEach((item) => itemPageRoutes[item.uuid] = getItemPageRoute(item));\n          return itemPageRoutes;\n        }),\n      );\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.cleanupSubscribes();\n    this.paginationService.clearPagination(this.options.id);\n  }\n\n  /**\n   * Unsub all subscriptions\n   */\n  cleanupSubscribes() {\n    this.subs.filter((sub) => hasValue(sub)).forEach((sub) => sub.unsubscribe());\n  }\n\n}\n","<div *ngIf=\"(versionsDTO$ | async) as versionsDTO; else noItemVersion\" class=\"mb-2\">\n  <div *ngIf=\"(versionRD$ | async)?.payload as itemVersion\">\n    <h2 *ngIf=\"displayTitle\" class=\"h4\">{{\"item.version.history.head\" | translate}}</h2>\n    <ds-alert [type]=\"AlertTypeEnum.Info\">\n      {{ \"item.version.history.selected.alert\" | translate : { version: itemVersion.version } }}\n    </ds-alert>\n    <ds-pagination *ngIf=\"versionsDTO.versionDTOs.length > 0\"\n                   (paginationChange)=\"onPageChange()\"\n                   [hideGear]=\"true\"\n                   [hidePagerWhenSinglePage]=\"true\"\n                   [paginationOptions]=\"options\"\n                   [collectionSize]=\"versionsDTO.totalElements\"\n                   [retainScrollPosition]=\"true\">\n      <table class=\"table table-striped table-bordered align-middle my-2\">\n        <thead>\n        <tr>\n          <th scope=\"col\">{{ \"item.version.history.table.version\" | translate }}</th>\n          <th scope=\"col\" *ngIf=\"(showSubmitter$ | async)\">{{ \"item.version.history.table.editor\" | translate }}</th>\n          <th scope=\"col\">{{ \"item.version.history.table.date\" | translate }}</th>\n          <th scope=\"col\">{{ \"item.version.history.table.summary\" | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let versionDTO of versionsDTO.versionDTOs\" [id]=\"'version-row-' + versionDTO.version.id\">\n          <td class=\"version-row-element-version\">\n            <ds-item-versions-row-element-version [hasDraftVersion]=\"hasDraftVersion$ | async\"\n                                                  [version]=\"versionDTO.version\"\n                                                  [item]=\"item\" [displayActions]=\"displayActions\"\n                                                  [itemVersion]=\"itemVersion\"\n                                                  [versionBeingEditedNumber]=\"versionBeingEditedNumber\"\n                                                  (versionsHistoryChange)=\"getAllVersions($event)\"\n            ></ds-item-versions-row-element-version>\n          </td>\n          <td class=\"version-row-element-editor\" *ngIf=\"(showSubmitter$ | async)\">\n            {{ versionDTO.version.submitterName }}\n          </td>\n          <td class=\"version-row-element-date\">\n            {{ versionDTO.version.created | date : 'yyyy-MM-dd HH:mm:ss' }}\n          </td>\n          <td class=\"version-row-element-summary\">\n            <div class=\"float-left\">\n              <ng-container\n                *ngIf=\"isThisBeingEdited(versionDTO.version); then editSummary else showSummary\"></ng-container>\n              <ng-template #showSummary>{{ versionDTO.version.summary }}</ng-template>\n              <ng-template #editSummary>\n                <input [attr.aria-label]=\"'item.version.history.table.action.editSummary' | translate\"\n                       [(ngModel)]=\"versionBeingEditedSummary\" (keyup.enter)=\"onSummarySubmit()\"\n                       class=\"form-control\" type=\"text\"/>\n              </ng-template>\n            </div>\n\n            <div class=\"float-right btn-group edit-field space-children-mr\" *ngIf=\"displayActions && versionDTO.canEditVersion | async\">\n              <ng-container *ngIf=\"isThisBeingEdited(versionDTO.version); else notThisBeingEdited\">\n                <!--DISCARD EDIT-->\n                <button class=\"btn btn-sm btn-outline-warning\"\n                        (click)=\"disableVersionEditing()\"\n                        title=\"{{'item.version.history.table.action.discardSummary' | translate}}\">\n                  <i class=\"fas fa-undo-alt fa-fw\"></i>\n                </button>\n                <!--SAVE-->\n                <button class=\"btn btn-outline-success btn-sm\"\n                        (click)=\"onSummarySubmit()\"\n                        title=\"{{'item.version.history.table.action.saveSummary' | translate}}\">\n                  <i class=\"fas fa-check fa-fw\"></i>\n                </button>\n              </ng-container>\n              <ng-template #notThisBeingEdited>\n                <!--EDIT-->\n                <button class=\"btn btn-outline-primary btn-sm version-row-element-edit\"\n                        [dsBtnDisabled]=\"isAnyBeingEdited()\"\n                        (click)=\"enableVersionEditing(versionDTO.version)\"\n                        title=\"{{'item.version.history.table.action.editSummary' | translate}}\">\n                  <i class=\"fas fa-edit fa-fw\"></i>\n                </button>\n              </ng-template>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n      <div>*&nbsp;{{\"item.version.history.selected\" | translate}}</div>\n    </ds-pagination>\n  </div>\n</div>\n<ng-template #noItemVersion>\n  <ds-alert *ngIf=\"displayWhenEmpty\"\n            [content]=\"'item.version.history.empty'\"\n            [type]=\"AlertTypeEnum.Info\">\n  </ds-alert>\n</ng-template>\n","import {\n  AsyncPipe,\n  NgIf,\n} from '@angular/common';\nimport {\n  Component,\n  Input,\n  OnInit,\n} from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport {\n  EMPTY,\n  Observable,\n  of,\n} from 'rxjs';\nimport {\n  map,\n  startWith,\n  switchMap,\n} from 'rxjs/operators';\n\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { VersionHistoryDataService } from '../../../core/data/version-history-data.service';\nimport { Item } from '../../../core/shared/item.model';\nimport {\n  getAllSucceededRemoteData,\n  getFirstCompletedRemoteData,\n  getRemoteDataPayload,\n} from '../../../core/shared/operators';\nimport { Version } from '../../../core/shared/version.model';\nimport { VersionHistory } from '../../../core/shared/version-history.model';\nimport { AlertComponent } from '../../../shared/alert/alert.component';\nimport { AlertType } from '../../../shared/alert/alert-type';\nimport {\n  hasValue,\n  hasValueOperator,\n} from '../../../shared/empty.util';\nimport { getItemPageRoute } from '../../item-page-routing-paths';\n\n@Component({\n  selector: 'ds-item-versions-notice',\n  templateUrl: './item-versions-notice.component.html',\n  standalone: true,\n  imports: [NgIf, AlertComponent, AsyncPipe, TranslateModule],\n})\n/**\n * Component for displaying a warning notice when the item is not the latest version within its version history\n * The notice contains a link to the latest version's item page\n */\nexport class ItemVersionsNoticeComponent implements OnInit {\n  /**\n   * The item to display a version notice for\n   */\n  @Input() item: Item;\n\n  /**\n   * The item's version\n   */\n  versionRD$: Observable<RemoteData<Version>>;\n\n  /**\n   * The item's full version history\n   */\n  versionHistoryRD$: Observable<RemoteData<VersionHistory>>;\n\n  /**\n   * The latest version of the item's version history\n   */\n  latestVersion$: Observable<Version>;\n\n  /**\n   * Is the item's version equal to the latest version from the version history?\n   * This will determine whether or not to display a notice linking to the latest version\n   */\n  showLatestVersionNotice$: Observable<boolean>;\n\n  /**\n   * Pagination options to fetch a single version on the first page (this is the latest version in the history)\n   */\n\n  /**\n   * The AlertType enumeration\n   * @type {AlertType}\n   */\n  public AlertTypeEnum = AlertType;\n\n  constructor(private versionHistoryService: VersionHistoryDataService) {\n  }\n\n  /**\n   * Initialize the component's observables\n   */\n  ngOnInit(): void {\n    if (hasValue(this.item.version)) {\n      this.versionRD$ = this.item.version;\n      this.versionHistoryRD$ = this.versionRD$.pipe(\n        getAllSucceededRemoteData(),\n        getRemoteDataPayload(),\n        hasValueOperator(),\n        switchMap((version: Version) => version.versionhistory),\n      );\n\n      this.latestVersion$ = this.versionHistoryRD$.pipe(\n        getFirstCompletedRemoteData(),\n        switchMap((vhRD: RemoteData<VersionHistory>) => {\n          if (vhRD.hasSucceeded) {\n            return this.versionHistoryService.getLatestVersionFromHistory$(vhRD.payload);\n          } else {\n            return EMPTY;\n          }\n        }),\n      );\n\n      this.showLatestVersionNotice$ = this.versionRD$.pipe(\n        getFirstCompletedRemoteData(),\n        switchMap((versionRD: RemoteData<Version>) => {\n          if (versionRD.hasSucceeded) {\n            return this.versionHistoryService.isLatest$(versionRD.payload).pipe(\n              map((isLatest) => isLatest != null && !isLatest),\n            );\n          } else {\n            return of(false);\n          }\n        }),\n        startWith(false),\n      );\n    }\n  }\n\n  /**\n   * Get the item page url\n   * @param item The item for which the url is requested\n   */\n  getItemPage(item: Item): string {\n    if (hasValue(item)) {\n      return getItemPageRoute(item);\n    }\n  }\n}\n","<ds-alert *ngIf=\"(showLatestVersionNotice$ | async) === true\"\n          [content]=\"('item.version.notice' | translate:{ destination: getItemPage(((latestVersion$ | async)?.item | async)?.payload) })\"\n          [dismissible]=\"false\"\n          [type]=\"AlertTypeEnum.Warning\">\n</ds-alert>\n","import {\n  Pipe,\n  PipeTransform,\n} from '@angular/core';\n\n/**\n * Custom pipe to split a string into an array of substrings based on a specified separator.\n * @param value - The string to be split.\n * @param separator - The separator used to split the string.\n * @returns An array of substrings.\n */\n@Pipe({\n  name: 'dsSplit',\n  standalone: true,\n})\nexport class SplitPipe implements PipeTransform {\n  transform(value: string, separator: string): string[] {\n    return value.split(separator);\n  }\n\n}\n","var map = {\n\t\"./custom/app/item-page/alerts/item-alerts.component\": [\n\t\t5215,\n\t\t\"src_themes_custom_app_item-page_alerts_item-alerts_component_ts\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 42176;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./custom/app/item-page/full/field-components/file-section/full-file-section.component\": [\n\t\t42991,\n\t\t\"src_themes_custom_app_item-page_full_field-components_file-section_full-file-section_component_ts\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 63614;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./custom/app/item-page/full/full-item-page.component\": [\n\t\t39325,\n\t\t\"src_themes_custom_app_item-page_full_full-item-page_component_ts\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 4872;\nmodule.exports = webpackAsyncContext;"],"names":["map","take","RemoteDataBuildService","ObjectCacheService","HALEndpointService","IdentifiableDataService","GetRequest","RequestService","NotifyRequestsStatusDataService","constructor","requestService","rdbService","objectCache","halService","getNotifyRequestsStatus","itemUuid","href$","getEndpoint","pipe","url","subscribe","request","generateRequestId","send","buildFromHref","i0","inject","i1","i2","i3","i4","factory","fac","providedIn","of","observableOf","catchError","APP_CONFIG","DspaceRestService","SignpostingDataService","appConfig","restService","getLinks","uuid","baseUrl","rest","get","err","res","statusCode","payload","AsyncPipe","NgIf","SimpleChanges","RouterLink","TranslateModule","combineLatest","getFirstCompletedRemoteData","AuthorizationDataService","FeatureID","Item","CorrectionTypeDataService","AlertComponent","AlertType","DsoWithdrawnReinstateModalService","REQUEST_REINSTATE","elementStart","element","elementEnd","advance","property","ctx_r0","AlertTypeEnum","Warning","pipeBind1","listener","ItemAlertsComponent_div_2_a_10_Template_a_click_0_listener","restoreView","_r2","nextContext","resetView","openReinstateModal","text","textInterpolate","template","ItemAlertsComponent_div_2_a_10_Template","showReinstateButton$","ItemAlertsComponent","authService","dsoWithdrawnReinstateModalService","correctionTypeDataService","ngOnChanges","changes","item","currentValue","withdrawn","shouldShowReinstateButton","correction$","findByItem","correctionTypeRD","hasSucceeded","page","isAdmin$","isAuthorized","AdministratorOf","isAdmin","correction","some","correctionType","topic","openCreateWithdrawnReinstateModal","isArchived","directiveInject","selectors","inputs","standalone","features","NgOnChangesFeature","StandaloneFeature","decls","vars","consts","template","ItemAlertsComponent_Template","rf","ctx","ItemAlertsComponent_div_1_Template","ItemAlertsComponent_div_2_Template","isDiscoverable","isWithdrawn","TranslatePipe","styles","ThemedComponent","ThemedItemAlertsComponent","inAndOutputNames","getComponentName","importThemedComponent","themeName","importUnthemedComponent","t","InheritDefinitionFeature","ngContentSelectors","_c0","ThemedItemAlertsComponent_Template","ThemedItemAlertsComponent_ng_template_0_Template","templateRefExtractor","projection","NgForOf","TranslateService","switchMap","tap","DSONameService","BitstreamDataService","PaginationService","hasValue","isEmpty","ThemedFileDownloadLinkComponent","MetadataFieldWrapperComponent","NotificationsService","PaginationComponent","PaginationComponentOptions","FileSizePipe","followLink","VarDirective","ThemedThumbnailComponent","FileSectionComponent","elementContainerStart","file_r1","firstMetadataValue","FullFileSectionComponent_div_2_div_1_ds_pagination_4_div_1_ng_container_23_Template","tmp_6_0","thumbnail","ctx_r1","dsoNameService","getName","sizeBytes","tmp_12_0","format","description","hasMetadata","textInterpolate1","FullFileSectionComponent_div_2_div_1_ds_pagination_4_div_1_Template","originalOptions","originals_r3","totalElements","FullFileSectionComponent_div_2_div_1_ds_pagination_4_Template","length","FullFileSectionComponent_div_2_div_1_Template","hasValuesInBundle","file_r4","FullFileSectionComponent_div_4_div_1_ds_pagination_4_div_1_Template","licenseOptions","licenses_r5","FullFileSectionComponent_div_4_div_1_ds_pagination_4_Template","FullFileSectionComponent_div_4_div_1_Template","FullFileSectionComponent","bitstreamDataService","notificationsService","translateService","paginationService","Object","assign","id","currentPage","pageSize","bitstream","ngOnInit","initialize","originals$","getCurrentPagination","options","findAllByItemAndBundleName","elementsPerPage","rd","errorMessage","error","licenses$","bundle","ngOnDestroy","clearPagination","i5","FullFileSectionComponent_Template","FullFileSectionComponent_div_2_Template","FullFileSectionComponent_div_4_Template","label","tmp_1_0","tmp_2_0","ThemedFullFileSectionComponent","ThemedFullFileSectionComponent_Template","ThemedFullFileSectionComponent_ng_template_0_Template","KeyValuePipe","Location","PLATFORM_ID","ActivatedRoute","Router","filter","NotifyInfoService","ItemDataService","LinkHeadService","ServerResponseService","fadeInOut","DsoEditMenuComponent","ErrorComponent","ThemedLoadingComponent","ViewTrackerComponent","CollectionsComponent","ThemedItemPageTitleFieldComponent","ItemPageComponent","ItemVersionsComponent","ItemVersionsNoticeComponent","pureFunction1","itemPageRoute$","mdEntry_r3","key","mdValue_r2","value","language","FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_8_tr_1_Template","FullItemPageComponent_div_0_div_1_div_1_div_4_div_14_Template_button_click_2_listener","_r4","back","FullItemPageComponent_div_0_div_1_div_1_div_4_div_4_Template","FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_8_Template","FullItemPageComponent_div_0_div_1_div_1_div_4_div_14_Template","item_r5","fromSubmissionObject","metadata$","FullItemPageComponent_div_0_div_1_div_1_div_4_Template","FullItemPageComponent_div_0_div_1_div_1_Template","undefined","itemRD_r6","propertyInterpolate","FullItemPageComponent_div_0_div_1_Template","FullItemPageComponent_div_0_ds_error_2_Template","FullItemPageComponent_div_0_ds_loading_3_Template","hasFailed","isLoading","FullItemPageComponent","route","router","items","authorizationService","_location","responseService","signpostingDataService","linkHeadService","notifyInfoService","platformId","subs","itemRD$","metadata","push","data","wfi","wsi","sub","forEach","unsubscribe","i6","i7","i8","FullItemPageComponent_Template","FullItemPageComponent_div_0_Template","i9","animation","changeDetection","ThemedFullItemPageComponent","ThemedFullItemPageComponent_Template","ThemedFullItemPageComponent_ng_template_0_Template","isPlatformServer","getAllSucceededRemoteDataPayload","ViewMode","isNotEmpty","ListableObjectComponentLoaderComponent","getItemPageRoute","NotifyRequestsStatusComponent","QaEventNotificationComponent","item_r1","viewMode","ItemPageComponent_div_0_div_1_div_1_ds_listable_object_component_loader_6_Template","ItemPageComponent_div_0_div_1_div_1_Template","itemRD_r3","ItemPageComponent_div_0_div_1_Template","ItemPageComponent_div_0_ds_error_2_Template","ItemPageComponent_div_0_ds_loading_3_Template","StandalonePage","signpostingLinks","inboxTags","coarRestApiUrls","initPageLinks","dso","params","getCoarLdnLocalInboxUrls","links","link","href","rel","type","tag","addTag","inboxLinks","initPageInboxLinks","setHeader","isCoarConfigEnabled","coarLdnEnabled","getInboxRelationLink","coarRestApiUrl","removeTag","ItemPageComponent_Template","ItemPageComponent_div_0_Template","getRemoteDataPayload","RequestStatusAlertBoxComponent","entry_r1","NotifyRequestsStatusComponent_ng_container_0_ng_container_1_Template","requestMap$","groupDataByStatus","notifyRequestsStatus","statusMap","Map","notifyStatus","status","has","set","NotifyRequestsStatusComponent_Template","NotifyRequestsStatusComponent_ng_container_0_Template","tmp_0_0","size","RequestStatusEnum","NgClass","TruncatableComponent","TruncatablePartComponent","pipeBind2","displayOptions","text","pureFunction3","_c1","request_r1","serviceName","serviceUrl","offerType","sanitizeHtml","RequestStatusAlertBoxComponent_ng_container_0_ng_container_6_Template","classMapInterpolate1","alertType","prepareDataToDisplay","ACCEPTED","REJECTED","REQUESTED","RequestStatusAlertBoxComponent_Template","RequestStatusAlertBoxComponent_ng_container_0_Template","getNotificatioQualityAssuranceRoute","RequestParam","QualityAssuranceSourceDataService","SplitPipe","propertyInterpolate1","source_r1","sanitizeUrl","totalEvents","getQualityAssuranceRoute","pureFunction0","_c2","QaEventNotificationComponent_ng_container_0_ng_container_1_div_1_Template","QaEventNotificationComponent_ng_container_0_ng_container_1_Template","sources_r3","qualityAssuranceSourceDataService","previousValue","sources$","getQualityAssuranceSources$","findListTopicOptions","searchParams","getSourcesByTarget","ProvidersFeature","QaEventNotificationComponent_Template","QaEventNotificationComponent_ng_container_0_Template","EventEmitter","NgbActiveModal","ItemVersionsDeleteModalComponent","activeModal","response","onModalClose","emit","dismiss","onModalSubmit","close","outputs","ItemVersionsDeleteModalComponent_Template","ItemVersionsDeleteModalComponent_Template_button_click_4_listener","ItemVersionsDeleteModalComponent_Template_button_click_12_listener","ItemVersionsDeleteModalComponent_Template_button_click_17_listener","versionNumber","NgbModal","concatMap","mergeMap","VersionDataService","VersionHistoryDataService","getFirstSucceededRemoteDataPayload","Version","WorkflowItemDataService","WorkspaceitemDataService","BtnDisabledDirective","getItemEditVersionhistoryRoute","getItemVersionRoute","ItemVersionsSharedService","ItemVersionsSummaryModalComponent","getVersionRoute","version","ItemVersionsRowElementVersionComponent_div_14_button_1_Template_button_click_0_listener","editWorkspaceItem","workspaceId$","ItemVersionsRowElementVersionComponent_div_14_ng_container_3_Template_button_click_1_listener","_r3","createNewVersion","createVersionTitle","isAnyBeingEdited","hasDraftVersion","ItemVersionsRowElementVersionComponent_div_14_ng_container_5_Template_button_click_1_listener","deleteVersion","itemVersion","ItemVersionsRowElementVersionComponent_div_14_button_1_Template","ItemVersionsRowElementVersionComponent_div_14_ng_container_3_Template","ItemVersionsRowElementVersionComponent_div_14_ng_container_5_Template","canCreateVersion$","canDeleteVersion$","ItemVersionsRowElementVersionComponent","workspaceItemDataService","workflowItemDataService","itemService","itemVersionShared","versionHistoryService","versionService","modalService","versionsHistoryChange","getWorkspaceId","workflowId$","getWorkflowId","canDeleteVersion","CanCreateVersion","self","versionItem","workspaceId","id$","navigateByUrl","CanDeleteVersion","versionId","open","componentInstance","createVersionEvent","summary","createVersion","_links","newVersionRD","notifyCreateNewVersion","versionHistory$","getHistoryFromVersion","versionHistory","invalidateItemCache","invalidateVersionHistoryCache","newVersion","findByHref","newVersionItem","wsItem","wsiId","redirectToLatest","successMessageKey","failureMessageKey","versionItem$","firstVersion","ok","getVersionHistoryFromVersion$","deleteItemAndGetResult$","deleteItemResult","getLatestVersionItemFromHistory$","deleteHasSucceeded","newLatestVersionItem","success","path","delete","deleteItemRes","versionBeingEditedNumber","i10","i11","displayActions","ItemVersionsRowElementVersionComponent_Template","ItemVersionsRowElementVersionComponent_span_1_Template","ItemVersionsRowElementVersionComponent_ng_template_4_Template","ItemVersionsRowElementVersionComponent_ng_template_6_Template","ItemVersionsRowElementVersionComponent_span_8_Template","ItemVersionsRowElementVersionComponent_span_9_Template","ItemVersionsRowElementVersionComponent_span_11_Template","ItemVersionsRowElementVersionComponent_div_14_Template","versionNumberWithoutLink_r6","versionNumberWithLink_r5","DatePipe","NgFor","FormsModule","startWith","ConfigurationDataService","getAllSucceededRemoteData","getFirstSucceededRemoteData","hasValueOperator","PaginatedSearchOptions","versionDTO_r4","submitterName","elementContainer","twoWayListener","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_ng_template_14_Template_input_ngModelChange_0_listener","$event","_r5","twoWayBindingSet","versionBeingEditedSummary","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_ng_template_14_Template_input_keyup_enter_0_listener","onSummarySubmit","twoWayProperty","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_div_16_ng_container_1_Template_button_click_1_listener","_r6","disableVersionEditing","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_div_16_ng_container_1_Template_button_click_4_listener","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_div_16_ng_template_2_Template_button_click_0_listener","_r7","$implicit","enableVersionEditing","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_div_16_ng_container_1_Template","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_div_16_ng_template_2_Template","isThisBeingEdited","notThisBeingEdited_r8","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_Template_ds_item_versions_row_element_version_versionsHistoryChange_2_listener","getAllVersions","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_td_4_Template","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_ng_container_11_Template","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_ng_template_12_Template","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_ng_template_14_Template","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_div_16_Template","hasDraftVersion$","itemVersion_r11","showSubmitter$","created","editSummary_r10","showSummary_r9","canEditVersion","ItemVersionsComponent_div_0_div_1_ds_pagination_5_Template_ds_pagination_paginationChange_0_listener","_r1","onPageChange","ItemVersionsComponent_div_0_div_1_ds_pagination_5_th_7_Template","ItemVersionsComponent_div_0_div_1_ds_pagination_5_tr_16_Template","versionsDTO_r12","versionDTOs","ItemVersionsComponent_div_0_div_1_h2_1_Template","ItemVersionsComponent_div_0_div_1_ds_pagination_5_Template","displayTitle","Info","ItemVersionsComponent_div_0_div_1_Template","tmp_3_0","versionRD$","ItemVersionsComponent_ng_template_2_ds_alert_0_Template","displayWhenEmpty","configurationService","showSubmitter","versionBeingEditedId","findById","findRes","updatedVersion","update","updatedVersionRD","warning","canEditVersion$","CanEditVersion","includeSubmitter$","findByPropertyName","configurationProperty","values","IsCollectionAdmin","IsCommunityAdmin","isCollectionAdmin","isCommunityAdmin","isSiteAdmin","includeSubmitter","currentPagination","versionsDTO$","getVersions","pagination","versions","versionHistoryRD$","versionhistory","Boolean","draftVersion","hasEpersons$","versionsDTO","versionDTO","eperson","itemPageRoutes$","itemPageRoutes","cleanupSubscribes","ItemVersionsComponent_Template","ItemVersionsComponent_div_0_Template","ItemVersionsComponent_ng_template_2_Template","noItemVersion_r13","DefaultValueAccessor","NgControlStatus","NgModel","EMPTY","getItemPage","latestVersion$","vhRD","getLatestVersionFromHistory$","showLatestVersionNotice$","versionRD","isLatest$","isLatest","ItemVersionsNoticeComponent_Template","ItemVersionsNoticeComponent_ds_alert_0_Template","encapsulation","transform","separator","split","pure"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}