{"version":3,"file":"src_themes_custom_app_community-list-page_community-list_community-list_component_ts.js","mappings":"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","sources":["./src/themes/custom/app/community-list-page/community-list/community-list.component.ts","./src/app/community-list-page/community-list/community-list.component.html"],"sourcesContent":["import { CdkTreeModule } from '@angular/cdk/tree';\nimport {\n  AsyncPipe,\n  NgClass,\n  NgIf,\n} from '@angular/common';\nimport { Component } from '@angular/core';\nimport { RouterLink } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { CommunityListComponent as BaseComponent } from '../../../../../app/community-list-page/community-list/community-list.component';\nimport { ThemedLoadingComponent } from '../../../../../app/shared/loading/themed-loading.component';\nimport { TruncatableComponent } from '../../../../../app/shared/truncatable/truncatable.component';\nimport { TruncatablePartComponent } from '../../../../../app/shared/truncatable/truncatable-part/truncatable-part.component';\n\n/**\n * A tree-structured list of nodes representing the communities, their subCommunities and collections.\n * Initially only the page-restricted top communities are shown.\n * Each node can be expanded to show its children and all children are also page-limited.\n * More pages of a page-limited result can be shown by pressing a show more node/link.\n * Which nodes were expanded is kept in the store, so this persists across pages.\n */\n@Component({\n  selector: 'ds-themed-community-list',\n  // styleUrls: ['./community-list.component.scss'],\n  // templateUrl: './community-list.component.html'\n  templateUrl: '../../../../../app/community-list-page/community-list/community-list.component.html',\n  standalone: true,\n  imports: [NgIf, ThemedLoadingComponent, CdkTreeModule, NgClass, RouterLink, TruncatableComponent, TruncatablePartComponent, AsyncPipe, TranslateModule],\n})\nexport class CommunityListComponent extends BaseComponent {}\n\n","<ds-loading *ngIf=\"(dataSource.loading$ | async) && !loadingNode\" class=\"ds-themed-loading\"></ds-loading>\n<cdk-tree [dataSource]=\"dataSource\" [treeControl]=\"treeControl\" [trackBy]=\"trackBy\">\n  <!-- This is the tree node template for show more node -->\n  <cdk-tree-node *cdkTreeNodeDef=\"let node; when: isShowMore\" cdkTreeNodePadding\n                 class=\"example-tree-node show-more-node\">\n    <div class=\"btn-group\">\n      <span aria-hidden=\"true\" class=\"btn btn-default invisible\" cdkTreeNodeToggle>\n        <span class=\"fa fa-chevron-right\"></span>\n      </span>\n      <div class=\"align-middle my-auto\">\n        <button *ngIf=\"(dataSource.loading$ | async) !== true\" (click)=\"getNextPage(node)\"\n           class=\"btn btn-outline-primary btn-sm\" role=\"button\">\n           <i class=\"fas fa-angle-down\"></i> {{ 'communityList.showMore' | translate }}\n        </button>\n        <ds-loading *ngIf=\"node===loadingNode && dataSource.loading$ | async\" class=\"ds-themed-loading\"></ds-loading>\n      </div>\n    </div>\n    <div class=\"text-muted\" cdkTreeNodePadding>\n      <div class=\"d-flex\">\n      </div>\n    </div>\n  </cdk-tree-node>\n  <!-- This is the tree node template for expandable nodes (coms and subcoms with children) -->\n  <cdk-tree-node *cdkTreeNodeDef=\"let node; when: hasChild\" cdkTreeNodePadding\n                 class=\"example-tree-node expandable-node\">\n    <div class=\"btn-group\">\n      <button *ngIf=\"hasChild(null, node) | async\" type=\"button\" class=\"btn btn-default\" cdkTreeNodeToggle\n              [attr.aria-label]=\"(node.isExpanded ? 'communityList.collapse' : 'communityList.expand') | translate:{ name: dsoNameService.getName(node.payload) }\"\n              (click)=\"toggleExpanded(node)\"\n              data-test=\"expand-button\">\n        <span class=\"{{node.isExpanded ? 'fa fa-chevron-down' : 'fa fa-chevron-right'}}\"\n              aria-hidden=\"true\"></span>\n        <span class=\"sr-only\">{{ (node.isExpanded ? 'communityList.collapse' : 'communityList.expand') | translate:{ name: dsoNameService.getName(node.payload) } }}</span>\n      </button>\n      <!--Don't render the button when non-expandable otherwise it's still accessible, instead render this placeholder-->\n      <span *ngIf=\"(hasChild(null, node) | async) !== true\" aria-hidden=\"true\" class=\"btn btn-default invisible\">\n        <span class=\"fa fa-chevron-right\"></span>\n      </span>\n      <div class=\"d-flex flex-row\">\n        <span class=\"d-flex align-middle my-auto\">\n          <a [routerLink]=\"node.route\" class=\"lead\">{{ dsoNameService.getName(node.payload) }}</a>\n          <span class=\"pr-2\">&nbsp;</span>\n          <span *ngIf=\"node.payload.archivedItemsCount >= 0\" class=\"badge badge-pill badge-secondary align-top archived-items-lead my-auto\">{{node.payload.archivedItemsCount}}</span>\n        </span>\n      </div>\n    </div>\n    <ds-truncatable [id]=\"node.id\">\n      <div class=\"text-muted\" cdkTreeNodePadding>\n        <div class=\"d-flex\" *ngIf=\"node.payload.shortDescription\">\n          <span aria-hidden=\"true\" class=\"btn btn-default invisible\">\n            <span class=\"fa fa-chevron-right\"></span>\n          </span>\n          <ds-truncatable-part [id]=\"node.id\" [minLines]=\"3\">\n            <span>{{node.payload.shortDescription}}</span>\n          </ds-truncatable-part>\n        </div>\n      </div>\n    </ds-truncatable>\n    <div class=\"d-flex\" *ngIf=\"node===loadingNode && dataSource.loading$ | async\"\n         cdkTreeNodePadding>\n      <span aria-hidden=\"true\" class=\"btn btn-default invisible\">\n        <span class=\"fa fa-chevron-right\"></span>\n      </span>\n      <ds-loading class=\"ds-themed-loading\"></ds-loading>\n    </div>\n  </cdk-tree-node>\n  <!-- This is the tree node template for leaf nodes (collections and (sub)coms without children) -->\n  <cdk-tree-node *cdkTreeNodeDef=\"let node; when: !(hasChild && isShowMore)\" cdkTreeNodePadding\n                 class=\"example-tree-node childless-node\">\n    <div class=\"btn-group\">\n      <span aria-hidden=\"true\" class=\"btn btn-default invisible\" cdkTreeNodeToggle>\n        <span class=\"fa fa-chevron-right\"></span>\n      </span>\n      <h6 class=\"align-middle my-auto\">\n        <a [routerLink]=\"node.route\" class=\"lead\">{{ dsoNameService.getName(node.payload) }}</a>\n      </h6>\n    </div>\n    <ds-truncatable [id]=\"node.id\">\n      <div class=\"text-muted\" cdkTreeNodePadding>\n        <div class=\"d-flex\" *ngIf=\"node.payload.shortDescription\">\n          <span aria-hidden=\"true\" class=\"btn btn-default invisible\">\n            <span class=\"fa fa-chevron-right\"></span>\n          </span>\n          <ds-truncatable-part [id]=\"node.id\" [minLines]=\"3\">\n            <span>{{node.payload.shortDescription}}</span>\n          </ds-truncatable-part>\n        </div>\n      </div>\n    </ds-truncatable>\n  </cdk-tree-node>\n</cdk-tree>\n"],"names":["CdkTreeModule","AsyncPipe","NgIf","RouterLink","TranslateModule","CommunityListComponent","BaseComponent","ThemedLoadingComponent","TruncatableComponent","TruncatablePartComponent","i0","ɵɵelement","ɵɵelementStart","ɵɵlistener","CommunityListComponent_cdk_tree_node_3_button_5_Template_button_click_0_listener","ɵɵrestoreView","_r1","node_r2","ɵɵnextContext","$implicit","ctx_r2","ɵɵresetView","getNextPage","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ɵɵtemplate","CommunityListComponent_cdk_tree_node_3_button_5_Template","CommunityListComponent_cdk_tree_node_3_ds_loading_7_Template","ɵɵproperty","dataSource","loading$","loadingNode","CommunityListComponent_cdk_tree_node_4_button_2_Template_button_click_0_listener","_r4","node_r5","toggleExpanded","ɵɵclassMap","isExpanded","ɵɵtextInterpolate","ɵɵpipeBind2","ɵɵpureFunction1","_c0","dsoNameService","getName","payload","archivedItemsCount","id","shortDescription","CommunityListComponent_cdk_tree_node_4_button_2_Template","CommunityListComponent_cdk_tree_node_4_span_4_Template","CommunityListComponent_cdk_tree_node_4_span_12_Template","CommunityListComponent_cdk_tree_node_4_div_15_Template","CommunityListComponent_cdk_tree_node_4_div_16_Template","hasChild","route","node_r6","CommunityListComponent_cdk_tree_node_5_div_9_Template","t","selectors","standalone","features","ɵɵInheritDefinitionFeature","ɵɵStandaloneFeature","decls","vars","consts","template","CommunityListComponent_Template","rf","ctx","CommunityListComponent_ds_loading_0_Template","CommunityListComponent_cdk_tree_node_3_Template","CommunityListComponent_cdk_tree_node_4_Template","CommunityListComponent_cdk_tree_node_5_Template","treeControl","trackBy","isShowMore","i1","CdkTreeNodeDef","CdkTreeNodePadding","CdkTreeNodeToggle","CdkTree","CdkTreeNode","i2","TranslatePipe","encapsulation"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}