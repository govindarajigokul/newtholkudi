{"version":3,"file":"src_app_community-page_edit-community-page_edit-community-page-routes_ts.js","mappings":"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","sources":["./src/app/community-page/edit-community-page/community-access-control/community-access-control.component.ts","./src/app/community-page/edit-community-page/community-access-control/community-access-control.component.html","./src/app/community-page/edit-community-page/community-authorizations/community-authorizations.component.ts","./src/app/community-page/edit-community-page/community-authorizations/community-authorizations.component.html","./src/app/community-page/edit-community-page/community-curate/community-curate.component.ts","./src/app/community-page/edit-community-page/community-curate/community-curate.component.html","./src/app/community-page/edit-community-page/community-metadata/community-metadata.component.ts","./src/app/community-page/edit-community-page/community-metadata/community-metadata.component.html","./src/app/community-page/edit-community-page/community-roles/community-roles.component.ts","./src/app/community-page/edit-community-page/community-roles/community-roles.component.html","./src/app/community-page/edit-community-page/edit-community-page-routes.ts","./src/app/community-page/edit-community-page/edit-community-page.component.ts","./src/app/shared/comcol/comcol-forms/edit-comcol-page/edit-comcol-page.component.html","./src/app/core/data/feature-authorization/feature-authorization-guard/community-administrator.guard.ts","./src/app/curation-form/curation-form.component.ts","./src/app/curation-form/curation-form.component.html"],"sourcesContent":["import {\n  AsyncPipe,\n  NgIf,\n} from '@angular/common';\nimport {\n  Component,\n  OnInit,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { Community } from '../../../core/shared/community.model';\nimport { getFirstSucceededRemoteData } from '../../../core/shared/operators';\nimport { AccessControlFormContainerComponent } from '../../../shared/access-control-form-container/access-control-form-container.component';\n\n@Component({\n  selector: 'ds-community-access-control',\n  templateUrl: './community-access-control.component.html',\n  styleUrls: ['./community-access-control.component.scss'],\n  imports: [\n    AccessControlFormContainerComponent,\n    NgIf,\n    AsyncPipe,\n  ],\n  standalone: true,\n})\nexport class CommunityAccessControlComponent implements OnInit {\n  itemRD$: Observable<RemoteData<Community>>;\n\n  constructor(private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    this.itemRD$ = this.route.parent.parent.data.pipe(\n      map((data) => data.dso),\n    ).pipe(getFirstSucceededRemoteData()) as Observable<RemoteData<Community>>;\n  }\n}\n","<ds-access-control-form-container\n  titleMessage=\"community-access-control-title\"\n  *ngIf=\"itemRD$ | async as itemRD\"\n  [itemRD]=\"itemRD\"\n  [showLimitToSpecificBitstreams]=\"false\">\n</ds-access-control-form-container>\n","import { AsyncPipe } from '@angular/common';\nimport {\n  Component,\n  OnInit,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport {\n  first,\n  map,\n} from 'rxjs/operators';\n\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { DSpaceObject } from '../../../core/shared/dspace-object.model';\nimport { ResourcePoliciesComponent } from '../../../shared/resource-policies/resource-policies.component';\n\n@Component({\n  selector: 'ds-community-authorizations',\n  templateUrl: './community-authorizations.component.html',\n  imports: [\n    ResourcePoliciesComponent,\n    AsyncPipe,\n  ],\n  standalone: true,\n})\n/**\n * Component that handles the community Authorizations\n */\nexport class CommunityAuthorizationsComponent<TDomain extends DSpaceObject> implements OnInit {\n\n  /**\n   * The initial DSO object\n   */\n  public dsoRD$: Observable<RemoteData<TDomain>>;\n\n  /**\n   * Initialize instance variables\n   *\n   * @param {ActivatedRoute} route\n   */\n  constructor(\n    private route: ActivatedRoute,\n  ) {\n  }\n\n  /**\n   * Initialize the component, setting up the community\n   */\n  ngOnInit(): void {\n    this.dsoRD$ = this.route.parent.parent.data.pipe(first(), map((data) => data.dso));\n  }\n}\n","<div class=\"container\">\n  <ds-resource-policies [resourceType]=\"'community'\" [resourceUUID]=\"(dsoRD$ | async)?.payload?.id\"></ds-resource-policies>\n</div>\n","import { AsyncPipe } from '@angular/common';\nimport {\n  Component,\n  OnInit,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport {\n  filter,\n  map,\n  take,\n} from 'rxjs/operators';\n\nimport { DSONameService } from '../../../core/breadcrumbs/dso-name.service';\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { Community } from '../../../core/shared/community.model';\nimport { CurationFormComponent } from '../../../curation-form/curation-form.component';\nimport { hasValue } from '../../../shared/empty.util';\n\n/**\n * Component for managing a community's curation tasks\n */\n@Component({\n  selector: 'ds-community-curate',\n  templateUrl: './community-curate.component.html',\n  imports: [\n    CurationFormComponent,\n    TranslateModule,\n    AsyncPipe,\n  ],\n  standalone: true,\n})\nexport class CommunityCurateComponent implements OnInit {\n\n  dsoRD$: Observable<RemoteData<Community>>;\n  communityName$: Observable<string>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private dsoNameService: DSONameService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.dsoRD$ = this.route.parent.data.pipe(\n      take(1),\n      map((data) => data.dso),\n    );\n\n    this.communityName$ = this.dsoRD$.pipe(\n      filter((rd: RemoteData<Community>) => hasValue(rd)),\n      map((rd: RemoteData<Community>) => {\n        return this.dsoNameService.getName(rd.payload);\n      }),\n    );\n  }\n\n}\n","<div class=\"container\">\n    <h2>{{'community.curate.header' |translate:{community: (communityName$ |async)} }}</h2>\n    <ds-curation-form\n           [dsoHandle]=\"(dsoRD$|async)?.payload.handle\"\n    ></ds-curation-form>\n</div>\n","import { AsyncPipe } from '@angular/common';\nimport { Component } from '@angular/core';\nimport {\n  ActivatedRoute,\n  Router,\n} from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { CommunityDataService } from '../../../core/data/community-data.service';\nimport { Community } from '../../../core/shared/community.model';\nimport { ComcolMetadataComponent } from '../../../shared/comcol/comcol-forms/edit-comcol-page/comcol-metadata/comcol-metadata.component';\nimport { NotificationsService } from '../../../shared/notifications/notifications.service';\nimport { CommunityFormComponent } from '../../community-form/community-form.component';\n\n/**\n * Component for editing a community's metadata\n */\n@Component({\n  selector: 'ds-community-metadata',\n  templateUrl: './community-metadata.component.html',\n  imports: [\n    CommunityFormComponent,\n    AsyncPipe,\n  ],\n  standalone: true,\n})\nexport class CommunityMetadataComponent extends ComcolMetadataComponent<Community> {\n  protected frontendURL = '/communities/';\n  protected type = Community.type;\n\n  public constructor(\n    protected communityDataService: CommunityDataService,\n    protected router: Router,\n    protected route: ActivatedRoute,\n    protected notificationsService: NotificationsService,\n    protected translate: TranslateService,\n  ) {\n    super(communityDataService, router, route, notificationsService, translate);\n  }\n}\n","<ds-community-form [dso]=\"(dsoRD$ | async)?.payload\"\n                   [isCreation]=\"false\"\n                   (submitForm)=\"onSubmit($event)\"\n                   (back)=\"navigateToHomePage()\"\n                   (finish)=\"navigateToHomePage()\"></ds-community-form>\n","import {\n  AsyncPipe,\n  NgForOf,\n} from '@angular/common';\nimport {\n  Component,\n  OnInit,\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport {\n  first,\n  map,\n} from 'rxjs/operators';\n\nimport { RemoteData } from '../../../core/data/remote-data';\nimport { Community } from '../../../core/shared/community.model';\nimport { HALLink } from '../../../core/shared/hal-link.model';\nimport {\n  getFirstSucceededRemoteData,\n  getRemoteDataPayload,\n} from '../../../core/shared/operators';\nimport { ComcolRoleComponent } from '../../../shared/comcol/comcol-forms/edit-comcol-page/comcol-role/comcol-role.component';\n\n/**\n * Component for managing a community's roles\n */\n@Component({\n  selector: 'ds-community-roles',\n  templateUrl: './community-roles.component.html',\n  imports: [\n    ComcolRoleComponent,\n    AsyncPipe,\n    NgForOf,\n  ],\n  standalone: true,\n})\nexport class CommunityRolesComponent implements OnInit {\n\n  dsoRD$: Observable<RemoteData<Community>>;\n\n  /**\n   * The different roles for the community, as an observable.\n   */\n  comcolRoles$: Observable<HALLink[]>;\n\n  /**\n   * The community to manage, as an observable.\n   */\n  community$: Observable<Community>;\n\n  constructor(\n    protected route: ActivatedRoute,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.dsoRD$ = this.route.parent.data.pipe(\n      first(),\n      map((data) => data.dso),\n    );\n\n    this.community$ = this.dsoRD$.pipe(\n      getFirstSucceededRemoteData(),\n      getRemoteDataPayload(),\n    );\n\n    /**\n     * The different roles for the community.\n     */\n    this.comcolRoles$ = this.community$.pipe(\n      map((community) => [\n        {\n          name: 'community-admin',\n          href: community._links.adminGroup.href,\n        },\n      ]),\n    );\n  }\n}\n","<ds-comcol-role\n  *ngFor=\"let comcolRole of comcolRoles$ | async\"\n  [dso]=\"community$ | async\"\n  [comcolRole]=\"comcolRole\"\n>\n</ds-comcol-role>\n","import { Route } from '@angular/router';\n\nimport { i18nBreadcrumbResolver } from '../../core/breadcrumbs/i18n-breadcrumb.resolver';\nimport { communityAdministratorGuard } from '../../core/data/feature-authorization/feature-authorization-guard/community-administrator.guard';\nimport { ResourcePolicyCreateComponent } from '../../shared/resource-policies/create/resource-policy-create.component';\nimport { ResourcePolicyEditComponent } from '../../shared/resource-policies/edit/resource-policy-edit.component';\nimport { resourcePolicyResolver } from '../../shared/resource-policies/resolvers/resource-policy.resolver';\nimport { resourcePolicyTargetResolver } from '../../shared/resource-policies/resolvers/resource-policy-target.resolver';\nimport { CommunityAccessControlComponent } from './community-access-control/community-access-control.component';\nimport { CommunityAuthorizationsComponent } from './community-authorizations/community-authorizations.component';\nimport { CommunityCurateComponent } from './community-curate/community-curate.component';\nimport { CommunityMetadataComponent } from './community-metadata/community-metadata.component';\nimport { CommunityRolesComponent } from './community-roles/community-roles.component';\nimport { EditCommunityPageComponent } from './edit-community-page.component';\n\n/**\n * Routing module that handles the routing for the Edit Community page administrator functionality\n */\n\nexport const ROUTES: Route[] = [\n  {\n    path: '',\n    resolve: {\n      breadcrumb: i18nBreadcrumbResolver,\n    },\n    data: { breadcrumbKey: 'community.edit' },\n    component: EditCommunityPageComponent,\n    canActivate: [communityAdministratorGuard],\n    children: [\n      {\n        path: '',\n        redirectTo: 'metadata',\n        pathMatch: 'full',\n      },\n      {\n        path: 'metadata',\n        component: CommunityMetadataComponent,\n        data: {\n          title: 'community.edit.tabs.metadata.title',\n          hideReturnButton: true,\n          showBreadcrumbs: true,\n        },\n      },\n      {\n        path: 'roles',\n        component: CommunityRolesComponent,\n        data: { title: 'community.edit.tabs.roles.title', showBreadcrumbs: true },\n      },\n      {\n        path: 'curate',\n        component: CommunityCurateComponent,\n        data: { title: 'community.edit.tabs.curate.title', showBreadcrumbs: true },\n      },\n      {\n        path: 'access-control',\n        component: CommunityAccessControlComponent,\n        data: { title: 'collection.edit.tabs.access-control.title', showBreadcrumbs: true },\n      },\n      {\n        path: 'authorizations',\n        data: { showBreadcrumbs: true },\n        children: [\n          {\n            path: 'create',\n            resolve: {\n              resourcePolicyTarget: resourcePolicyTargetResolver,\n            },\n            component: ResourcePolicyCreateComponent,\n            data: { title: 'resource-policies.create.page.title' },\n          },\n          {\n            path: 'edit',\n            resolve: {\n              resourcePolicy: resourcePolicyResolver,\n            },\n            component: ResourcePolicyEditComponent,\n            data: { title: 'resource-policies.edit.page.title' },\n          },\n          {\n            path: '',\n            component: CommunityAuthorizationsComponent,\n            data: { title: 'community.edit.tabs.authorizations.title', showBreadcrumbs: true, hideReturnButton: true },\n          },\n        ],\n      },\n    ],\n  },\n];\n","import {\n  AsyncPipe,\n  NgClass,\n  NgForOf,\n  NgIf,\n} from '@angular/common';\nimport { Component } from '@angular/core';\nimport {\n  ActivatedRoute,\n  Router,\n  RouterLink,\n  RouterOutlet,\n} from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { Community } from '../../core/shared/community.model';\nimport { EditComColPageComponent } from '../../shared/comcol/comcol-forms/edit-comcol-page/edit-comcol-page.component';\nimport { getCommunityPageRoute } from '../community-page-routing-paths';\n\n/**\n * Component that represents the page where a user can edit an existing Community\n */\n@Component({\n  selector: 'ds-edit-community',\n  templateUrl: '../../shared/comcol/comcol-forms/edit-comcol-page/edit-comcol-page.component.html',\n  standalone: true,\n  imports: [\n    RouterLink,\n    TranslateModule,\n    NgClass,\n    NgForOf,\n    RouterOutlet,\n    NgIf,\n    AsyncPipe,\n  ],\n})\nexport class EditCommunityPageComponent extends EditComColPageComponent<Community> {\n  type = 'community';\n\n  public constructor(\n    protected router: Router,\n    protected route: ActivatedRoute,\n  ) {\n    super(router, route);\n  }\n\n  /**\n   * Get the community page url\n   * @param community The community for which the url is requested\n   */\n  getPageUrl(community: Community): string {\n    return getCommunityPageRoute(community.id);\n  }\n}\n","<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <div class=\"d-flex justify-content-between border-bottom\">\n        <h1>{{ type + '.edit.head' | translate }}</h1>\n        <div class=\"my-auto\">\n          <a class=\"btn btn-danger\"\n             [routerLink]=\"((type === 'community') ? '/communities/' : '/collections/') + (dsoRD$ | async)?.payload.uuid + '/delete'\"\n             data-test=\"delete-button\">\n            <i class=\"fas fa-trash\" aria-hidden=\"true\"></i> {{type + '.edit.delete' | translate}}</a>\n        </div>\n      </div>\n      <div class=\"pt-2\">\n        <ul class=\"nav nav-tabs justify-content-start mb-2\" role=\"tablist\">\n          <li *ngFor=\"let page of pages\" class=\"nav-item\" role=\"presentation\">\n            <a class=\"nav-link\" role=\"tab\"\n               [attr.aria-selected]=\"page === currentPage\"\n               [ngClass]=\"{'active' : page === currentPage}\"\n               [routerLink]=\"['./' + page]\"\n               [attr.data-test]=\"page\">\n              {{ type + '.edit.tabs.' + page + '.head' | translate}}\n            </a>\n          </li>\n        </ul>\n        <div class=\"tab-pane active\">\n          <div class=\"mb-4\">\n            <router-outlet></router-outlet>\n          </div>\n          <div class=\"col-12 text-right\">\n            <a *ngIf=\"!hideReturnButton\" [routerLink]=\"getPageUrl((dsoRD$ | async)?.payload)\" class=\"btn btn-outline-secondary\">\n              <i class=\"fas fa-arrow-left\" aria-hidden=\"true\"></i> {{ type + '.edit.return' | translate }}\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { CanActivateFn } from '@angular/router';\nimport { of as observableOf } from 'rxjs';\n\nimport { FeatureID } from '../feature-id';\nimport { singleFeatureAuthorizationGuard } from './single-feature-authorization.guard';\n\n/**\n * Prevent unauthorized activating and loading of routes when the current authenticated user\n * isn't a Community administrator\n * Check group management rights\n */\nexport const communityAdministratorGuard: CanActivateFn =\n  singleFeatureAuthorizationGuard(() => observableOf(FeatureID.IsCommunityAdmin));\n","import {\n  NgFor,\n  NgIf,\n} from '@angular/common';\nimport {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport {\n  FormsModule,\n  ReactiveFormsModule,\n  UntypedFormControl,\n  UntypedFormGroup,\n} from '@angular/forms';\nimport { Router } from '@angular/router';\nimport {\n  TranslateModule,\n  TranslateService,\n} from '@ngx-translate/core';\nimport {\n  Observable,\n  Subscription,\n} from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { ConfigurationDataService } from '../core/data/configuration-data.service';\nimport { ScriptDataService } from '../core/data/processes/script-data.service';\nimport { RemoteData } from '../core/data/remote-data';\nimport { ConfigurationProperty } from '../core/shared/configuration-property.model';\nimport {\n  getFirstCompletedRemoteData,\n  getFirstSucceededRemoteDataPayload,\n} from '../core/shared/operators';\nimport { getProcessDetailRoute } from '../process-page/process-page-routing.paths';\nimport { Process } from '../process-page/processes/process.model';\nimport {\n  hasValue,\n  isEmpty,\n  isNotEmpty,\n} from '../shared/empty.util';\nimport { HandleService } from '../shared/handle.service';\nimport { NotificationsService } from '../shared/notifications/notifications.service';\n\nexport const CURATION_CFG = 'plugin.named.org.dspace.curate.CurationTask';\n\n/**\n * Component responsible for rendering the Curation Task form\n */\n@Component({\n  selector: 'ds-curation-form',\n  templateUrl: './curation-form.component.html',\n  standalone: true,\n  imports: [FormsModule, ReactiveFormsModule, NgFor, NgIf, TranslateModule],\n})\nexport class CurationFormComponent implements OnDestroy, OnInit {\n\n  config: Observable<RemoteData<ConfigurationProperty>>;\n  tasks: string[];\n  form: UntypedFormGroup;\n\n  @Input()\n  dsoHandle: string;\n\n  subs: Subscription[] = [];\n\n  constructor(\n    private scriptDataService: ScriptDataService,\n    private configurationDataService: ConfigurationDataService,\n    private notificationsService: NotificationsService,\n    private translateService: TranslateService,\n    private handleService: HandleService,\n    private router: Router,\n    private cdr: ChangeDetectorRef,\n  ) {\n  }\n\n  ngOnDestroy(): void {\n    this.subs.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n\n  ngOnInit(): void {\n    this.form = new UntypedFormGroup({\n      task: new UntypedFormControl(''),\n      handle: new UntypedFormControl(''),\n    });\n\n    this.config = this.configurationDataService.findByPropertyName(CURATION_CFG);\n    this.subs.push(this.config.pipe(\n      getFirstSucceededRemoteDataPayload(),\n    ).subscribe((configProperties: ConfigurationProperty) => {\n      this.tasks = configProperties.values\n        .filter((value) => isNotEmpty(value) && value.includes('='))\n        .map((value) => value.split('=')[1].trim());\n      this.form.get('task').patchValue(this.tasks[0]);\n      this.cdr.detectChanges();\n    }));\n  }\n\n  /**\n   * Determines whether the inputted dsoHandle has a value\n   */\n  hasHandleValue() {\n    return hasValue(this.dsoHandle);\n  }\n\n  /**\n   * Submit the selected taskName and handle to the script data service to run the corresponding curation script\n   * Navigate to the process page on success\n   */\n  submit() {\n    const taskName = this.form.get('task').value;\n    let handle$: Observable<string | null>;\n    if (this.hasHandleValue()) {\n      handle$ = this.handleService.normalizeHandle(this.dsoHandle).pipe(\n        map((handle: string | null) => {\n          if (isEmpty(handle)) {\n            this.notificationsService.error(this.translateService.get('curation.form.submit.error.head'),\n              this.translateService.get('curation.form.submit.error.invalid-handle'));\n          }\n          return handle;\n        }),\n      );\n    } else {\n      handle$ = this.handleService.normalizeHandle(this.form.get('handle').value).pipe(\n        map((handle: string | null) => isEmpty(handle) ? 'all' : handle),\n      );\n    }\n\n    this.subs.push(handle$.subscribe((handle: string) => {\n      if (hasValue(handle)) {\n        this.subs.push(this.scriptDataService.invoke('curate', [\n          { name: '-t', value: taskName },\n          { name: '-i', value: handle },\n        ], []).pipe(\n          getFirstCompletedRemoteData(),\n        ).subscribe((rd: RemoteData<Process>) => {\n          if (rd.hasSucceeded) {\n            this.notificationsService.success(this.translateService.get('curation.form.submit.success.head'),\n              this.translateService.get('curation.form.submit.success.content'));\n            void this.router.navigateByUrl(getProcessDetailRoute(rd.payload.processId));\n          } else {\n            this.notificationsService.error(this.translateService.get('curation.form.submit.error.head'),\n              this.translateService.get('curation.form.submit.error.content'));\n          }\n        }));\n      }\n    }));\n  }\n}\n","<form [formGroup]=\"form\" (ngSubmit)=\"submit()\">\n    <div class=\"form-group\">\n        <div class=\"row mb-2\">\n            <div class=\"col-12 col-sm-6\">\n                <label class=\"font-weight-bold\" for=\"task\">{{'curation.form.task-select.label' |translate }}</label>\n                <select id=\"task\" formControlName=\"task\" class=\"form-control\">\n                    <option *ngFor=\"let task of tasks\" [value]=\"task\">\n                        {{ 'curation-task.task.' + task + '.label' | translate }}\n                    </option>\n                </select>\n            </div>\n            <div *ngIf=\"!hasHandleValue()\" class=\"col-12 col-sm-6\">\n                <label class=\"font-weight-bold\" for=\"handle\">{{'curation.form.handle.label' |translate }}</label>\n                <input id=\"handle\" class=\"form-control\" formControlName=\"handle\">\n                <small class=\"text-muted\">{{'curation.form.handle.hint' |translate }}</small>\n            </div>\n        </div>\n        <button class=\"btn btn-default btn-primary\" type=\"submit\">{{'curation.form.submit' |translate }}</button>\n    </div>\n</form>\n"],"names":["AsyncPipe","NgIf","ActivatedRoute","map","getFirstSucceededRemoteData","AccessControlFormContainerComponent","i0","ɵɵelement","ɵɵproperty","itemRD_r1","CommunityAccessControlComponent","constructor","route","ngOnInit","itemRD$","parent","data","pipe","dso","ɵɵdirectiveInject","i1","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","CommunityAccessControlComponent_Template","rf","ctx","ɵɵtemplate","CommunityAccessControlComponent_ds_access_control_form_container_0_Template","ɵɵpipeBind1","styles","first","ResourcePoliciesComponent","CommunityAuthorizationsComponent","dsoRD$","CommunityAuthorizationsComponent_Template","ɵɵelementStart","ɵɵelementEnd","ɵɵadvance","tmp_1_0","payload","id","encapsulation","TranslateModule","filter","take","DSONameService","CurationFormComponent","hasValue","CommunityCurateComponent","dsoNameService","communityName$","rd","getName","i2","CommunityCurateComponent_Template","ɵɵtext","ɵɵtextInterpolate","ɵɵpipeBind2","ɵɵpureFunction1","_c0","handle","i3","TranslatePipe","Router","TranslateService","CommunityDataService","Community","ComcolMetadataComponent","NotificationsService","CommunityFormComponent","CommunityMetadataComponent","communityDataService","router","notificationsService","translate","frontendURL","type","i4","ɵɵInheritDefinitionFeature","CommunityMetadataComponent_Template","ɵɵlistener","CommunityMetadataComponent_Template_ds_community_form_submitForm_0_listener","$event","onSubmit","CommunityMetadataComponent_Template_ds_community_form_back_0_listener","navigateToHomePage","CommunityMetadataComponent_Template_ds_community_form_finish_0_listener","tmp_0_0","NgForOf","getRemoteDataPayload","ComcolRoleComponent","ctx_r1","community$","comcolRole_r1","CommunityRolesComponent","comcolRoles$","community","name","href","_links","adminGroup","CommunityRolesComponent_Template","CommunityRolesComponent_ds_comcol_role_0_Template","i18nBreadcrumbResolver","communityAdministratorGuard","ResourcePolicyCreateComponent","ResourcePolicyEditComponent","resourcePolicyResolver","resourcePolicyTargetResolver","EditCommunityPageComponent","ROUTES","path","resolve","breadcrumb","breadcrumbKey","component","canActivate","children","redirectTo","pathMatch","title","hideReturnButton","showBreadcrumbs","resourcePolicyTarget","resourcePolicy","NgClass","RouterLink","RouterOutlet","EditComColPageComponent","getCommunityPageRoute","page_r1","currentPage","_c1","ɵɵtextInterpolate1","getPageUrl","EditCommunityPageComponent_Template","EditCommunityPageComponent_li_15_Template","EditCommunityPageComponent_a_20_Template","uuid","pages","of","observableOf","FeatureID","singleFeatureAuthorizationGuard","IsCommunityAdmin","NgFor","ChangeDetectorRef","FormsModule","ReactiveFormsModule","UntypedFormControl","UntypedFormGroup","ConfigurationDataService","ScriptDataService","getFirstCompletedRemoteData","getFirstSucceededRemoteDataPayload","getProcessDetailRoute","isEmpty","isNotEmpty","HandleService","task_r1","CURATION_CFG","scriptDataService","configurationDataService","translateService","handleService","cdr","subs","ngOnDestroy","forEach","sub","unsubscribe","form","task","config","findByPropertyName","push","subscribe","configProperties","tasks","values","value","includes","split","trim","get","patchValue","detectChanges","hasHandleValue","dsoHandle","submit","taskName","handle$","normalizeHandle","error","invoke","hasSucceeded","success","navigateByUrl","processId","i5","i6","inputs","CurationFormComponent_Template","CurationFormComponent_Template_form_ngSubmit_0_listener","CurationFormComponent_option_8_Template","CurationFormComponent_div_9_Template","i7","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}