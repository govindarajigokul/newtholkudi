{"version":3,"file":"src_app_workspaceitems-edit-page_workspaceitems-edit-page-routes_ts.js","mappings":"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","sources":["./src/app/workspaceitems-edit-page/item-from-workspace-breadcrumb.resolver.ts","./src/app/workspaceitems-edit-page/item-from-workspace.resolver.ts","./src/app/workspaceitems-edit-page/workspace-item-page.resolver.ts","./src/app/workspaceitems-edit-page/workspaceitems-delete-page/themed-workspaceitems-delete-page.component.ts","./src/app/shared/theme-support/themed.component.html","./src/app/workspaceitems-edit-page/workspaceitems-delete-page/workspaceitems-delete-page.component.ts","./src/app/workspaceitems-edit-page/workspaceitems-delete-page/workspaceitems-delete-page.component.html","./src/app/workspaceitems-edit-page/workspaceitems-edit-page-routes.ts","./src/themes/ lazy ^\\.\\/.*\\/app\\/workspaceitems\\-edit\\-page\\/workspaceitems\\-delete\\-page\\/workspaceitems\\-delete\\-page\\.component$ namespace object"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\n\nimport { BreadcrumbConfig } from '../breadcrumbs/breadcrumb/breadcrumb-config.model';\nimport { SubmissionObject } from '../core/submission/models/submission-object.model';\nimport { SubmissionParentBreadcrumbResolver } from '../core/submission/resolver/submission-parent-breadcrumb.resolver';\nimport { SubmissionParentBreadcrumbsService } from '../core/submission/submission-parent-breadcrumb.service';\nimport { WorkspaceitemDataService } from '../core/submission/workspaceitem-data.service';\n\n/**\n * This class represents a resolver that retrieves the breadcrumbs of the workspace item\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ItemFromWorkspaceBreadcrumbResolver extends SubmissionParentBreadcrumbResolver implements Resolve<BreadcrumbConfig<SubmissionObject>> {\n\n  constructor(\n    protected dataService: WorkspaceitemDataService,\n    protected breadcrumbService: SubmissionParentBreadcrumbsService,\n  ) {\n    super(dataService, breadcrumbService);\n  }\n\n}\n","import { inject } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  ResolveFn,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { RemoteData } from '../core/data/remote-data';\nimport { Item } from '../core/shared/item.model';\nimport { SubmissionObjectResolver } from '../core/submission/resolver/submission-object.resolver';\nimport { WorkspaceitemDataService } from '../core/submission/workspaceitem-data.service';\n\n/**\n * This method represents a resolver that requests a specific item before the route is activated\n */\nexport const itemFromWorkspaceResolver: ResolveFn<RemoteData<Item>> = (\n  route: ActivatedRouteSnapshot,\n  state: RouterStateSnapshot,\n  workspaceItemService: WorkspaceitemDataService = inject(WorkspaceitemDataService),\n): Observable<RemoteData<Item>> => {\n  return SubmissionObjectResolver(route, state, workspaceItemService);\n};\n","import { inject } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  ResolveFn,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { RemoteData } from '../core/data/remote-data';\nimport { getFirstCompletedRemoteData } from '../core/shared/operators';\nimport { WorkspaceItem } from '../core/submission/models/workspaceitem.model';\nimport { WorkspaceitemDataService } from '../core/submission/workspaceitem-data.service';\nimport { followLink } from '../shared/utils/follow-link-config.model';\n\n/**\n * Method for resolving a workflow item based on the parameters in the current route\n * @param {ActivatedRouteSnapshot} route The current ActivatedRouteSnapshot\n * @param {RouterStateSnapshot} state The current RouterStateSnapshot\n * @param {WorkspaceitemDataService} workspaceItemService\n * @returns Observable<<RemoteData<Item>> Emits the found workflow item based on the parameters in the current route,\n * or an error if something went wrong\n */\nexport const workspaceItemPageResolver: ResolveFn<RemoteData<WorkspaceItem>> = (\n  route: ActivatedRouteSnapshot,\n  state: RouterStateSnapshot,\n  workspaceItemService: WorkspaceitemDataService = inject(WorkspaceitemDataService),\n): Observable<RemoteData<WorkspaceItem>> => {\n  return workspaceItemService.findById(route.params.id,\n    true,\n    false,\n    followLink('item'),\n  ).pipe(\n    getFirstCompletedRemoteData(),\n  );\n};\n","import { Component } from '@angular/core';\n\nimport { ThemedComponent } from '../../shared/theme-support/themed.component';\nimport { WorkspaceItemsDeletePageComponent } from './workspaceitems-delete-page.component';\n\n/**\n * Themed wrapper for {@link WorkspaceItemsDeletePageComponent}\n */\n@Component({\n  selector: 'ds-workspace-items-delete',\n  styleUrls: [],\n  templateUrl: './../../shared/theme-support/themed.component.html',\n  standalone: true,\n  imports: [WorkspaceItemsDeletePageComponent],\n})\nexport class ThemedWorkspaceItemsDeletePageComponent extends ThemedComponent<WorkspaceItemsDeletePageComponent> {\n  protected getComponentName(): string {\n    return 'WorkspaceItemsDeletePageComponent';\n  }\n\n  protected importThemedComponent(themeName: string): Promise<any> {\n    return import(`../../../themes/${themeName}/app/workspaceitems-edit-page/workspaceitems-delete-page/workspaceitems-delete-page.component`);\n  }\n\n  protected importUnthemedComponent(): Promise<any> {\n    return import('./workspaceitems-delete-page.component');\n  }\n}\n","<ng-template #vcr>\n</ng-template>\n<div #content>\n  <ng-content></ng-content>\n</div>\n","import {\n  CommonModule,\n  Location,\n} from '@angular/common';\nimport {\n  Component,\n  OnInit,\n} from '@angular/core';\nimport {\n  ActivatedRoute,\n  Data,\n  Params,\n  Router,\n} from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport {\n  TranslateModule,\n  TranslateService,\n} from '@ngx-translate/core';\nimport {\n  map,\n  Observable,\n  switchMap,\n  take,\n} from 'rxjs';\n\nimport { RemoteData } from '../../core/data/remote-data';\nimport { RouteService } from '../../core/services/route.service';\nimport { DSpaceObject } from '../../core/shared/dspace-object.model';\nimport { NoContent } from '../../core/shared/NoContent.model';\nimport {\n  getFirstCompletedRemoteData,\n  getRemoteDataPayload,\n} from '../../core/shared/operators';\nimport { WorkspaceItem } from '../../core/submission/models/workspaceitem.model';\nimport { WorkspaceitemDataService } from '../../core/submission/workspaceitem-data.service';\nimport { ModifyItemOverviewComponent } from '../../item-page/edit-item-page/modify-item-overview/modify-item-overview.component';\nimport { NotificationsService } from '../../shared/notifications/notifications.service';\n\n@Component({\n  selector: 'ds-base-workspaceitems-delete-page',\n  templateUrl: './workspaceitems-delete-page.component.html',\n  styleUrls: ['./workspaceitems-delete-page.component.scss'],\n  imports: [\n    ModifyItemOverviewComponent,\n    TranslateModule,\n    CommonModule,\n  ],\n  standalone: true,\n})\nexport class WorkspaceItemsDeletePageComponent implements OnInit {\n\n  /**\n   * The workspaceitem to delete\n   */\n  public wsi$: Observable<WorkspaceItem>;\n\n  /**\n   * The dspace object\n   */\n  public dso$: Observable<DSpaceObject>;\n\n  /**\n   * The previous query parameters\n   */\n  private previousQueryParameters?: Params;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private routeService: RouteService,\n    private workspaceItemService: WorkspaceitemDataService,\n    private notificationsService: NotificationsService,\n    private translationService: TranslateService,\n    private location: Location,\n    private modalService: NgbModal,\n  ) { }\n\n  ngOnInit(): void {\n    this.wsi$ = this.activatedRoute.data.pipe(map((data: Data) => data.wsi as RemoteData<WorkspaceItem>), getRemoteDataPayload());\n    this.dso$ = this.activatedRoute.data.pipe(map((data: Data) => data.dso as RemoteData<WorkspaceItem>), getRemoteDataPayload());\n    this.previousQueryParameters = (this.location.getState() as { [key: string]: any }).previousQueryParams;\n  }\n\n  /**\n   * Navigates to the previous url\n   * If there's not previous url, it continues to the mydspace page instead\n   */\n  previousPage() {\n    this.routeService.getPreviousUrl().pipe(take(1))\n      .subscribe((url: string) => {\n        let params: Params = {};\n        if (!url) {\n          url = '/mydspace';\n          params = this.previousQueryParameters;\n        }\n        if (url.split('?').length > 1) {\n          for (const param of url.split('?')[1].split('&')) {\n            params[param.split('=')[0]] = decodeURIComponent(param.split('=')[1]);\n          }\n        }\n        void this.router.navigate([url.split('?')[0]], { queryParams: params });\n      },\n      );\n  }\n\n  /**\n   * Open the modal to confirm the deletion of the workspaceitem\n   */\n  public async confirmDelete(content) {\n    await this.modalService.open(content).result.then(\n      (result) => {\n        if (result === 'ok') {\n          this.sendDeleteRequest();\n        }\n      },\n    );\n  }\n\n  /**\n   * Delete the target workspaceitem object\n   */\n  sendDeleteRequest() {\n    this.wsi$.pipe(\n      switchMap((wsi: WorkspaceItem) => this.workspaceItemService.delete(wsi.id).pipe(\n        getFirstCompletedRemoteData(),\n      )),\n    ).subscribe((response: RemoteData<NoContent>) => {\n      if (response.hasSucceeded) {\n        const title = this.translationService.get('workspace-item.delete.notification.success.title');\n        const content = this.translationService.get('workspace-item.delete.title');\n        this.notificationsService.success(title, content);\n        this.previousPage();\n      } else {\n        const title = this.translationService.get('workspace-item.delete.notification.error.title');\n        const content = this.translationService.get('workspace-item.delete.notification.error.content');\n        this.notificationsService.error(title, content);\n      }\n    });\n  }\n}\n","<div class=\"container\">\n  <h1>{{ 'workspace-item.delete.header' | translate }}</h1>\n  <ds-modify-item-overview *ngIf=\"(dso$ | async)\" [item]=\"$any(dso$ | async)\"></ds-modify-item-overview>\n  <button class=\"btn btn-default\" (click)=\"previousPage()\">{{ 'workspace-item.delete.button.cancel' | translate }}</button>\n  <button class=\"btn btn-danger\" (click)=\"$event.preventDefault();confirmDelete(content)\">{{ 'workspace-item.delete.button.confirm' | translate }}</button>\n</div>\n\n<ng-template #content let-c=\"close\" let-d=\"dismiss\" id=\"delete-modal\">\n  <div class=\"modal-header\">\n    <div class=\"modal-title text-danger h4\">{{ 'workspace-item.delete.header' | translate }}</div>\n    <button type=\"button\" id=\"delete_close\" class=\"close\" aria-label=\"Close\" (click)=\"d('cancel')\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <p>{{ 'submission.general.discard.confirm.info' | translate }}</p>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" id=\"delete_cancel\" class=\"btn btn-secondary\"\n      (click)=\"c('cancel')\">{{ 'submission.general.discard.confirm.cancel' | translate }}</button>\n    <button type=\"button\" id=\"delete_confirm\" class=\"btn btn-danger\"\n      (click)=\"c('ok')\">{{ 'submission.general.discard.confirm.submit' | translate }}</button>\n  </div>\n</ng-template>\n","import { Route } from '@angular/router';\n\nimport { authenticatedGuard } from '../core/auth/authenticated.guard';\nimport { i18nBreadcrumbResolver } from '../core/breadcrumbs/i18n-breadcrumb.resolver';\nimport { ThemedFullItemPageComponent } from '../item-page/full/themed-full-item-page.component';\nimport { ThemedSubmissionEditComponent } from '../submission/edit/themed-submission-edit.component';\nimport { itemFromWorkspaceResolver } from './item-from-workspace.resolver';\nimport { ItemFromWorkspaceBreadcrumbResolver } from './item-from-workspace-breadcrumb.resolver';\nimport { workspaceItemPageResolver } from './workspace-item-page.resolver';\nimport { ThemedWorkspaceItemsDeletePageComponent } from './workspaceitems-delete-page/themed-workspaceitems-delete-page.component';\n\nexport const ROUTES: Route[] = [\n  {\n    path: '',\n    redirectTo: '/home', pathMatch: 'full',\n  },\n  {\n    path: ':id',\n    resolve: {\n      breadcrumb: ItemFromWorkspaceBreadcrumbResolver,\n      wsi: workspaceItemPageResolver,\n    },\n    children: [\n      {\n        canActivate: [authenticatedGuard],\n        path: 'edit',\n        component: ThemedSubmissionEditComponent,\n        resolve: {\n          breadcrumb: i18nBreadcrumbResolver,\n        },\n        data: { title: 'submission.edit.title', breadcrumbKey: 'submission.edit' },\n      },\n      {\n        canActivate: [authenticatedGuard],\n        path: 'view',\n        component: ThemedFullItemPageComponent,\n        resolve: {\n          dso: itemFromWorkspaceResolver,\n          breadcrumb: i18nBreadcrumbResolver,\n        },\n        data: { title: 'workspace-item.view.title', breadcrumbKey: 'workspace-item.view' },\n      },\n      {\n        canActivate: [authenticatedGuard],\n        path: 'delete',\n        component: ThemedWorkspaceItemsDeletePageComponent,\n        resolve: {\n          dso: itemFromWorkspaceResolver,\n          breadcrumb: i18nBreadcrumbResolver,\n        },\n        data: { title: 'workspace-item.delete', breadcrumbKey: 'workspace-item.delete' },\n      },\n    ],\n  },\n];\n","var map = {\n\t\"./custom/app/workspaceitems-edit-page/workspaceitems-delete-page/workspaceitems-delete-page.component\": [\n\t\t12202,\n\t\t\"src_themes_custom_app_workspaceitems-edit-page_workspaceitems-delete-page_workspaceitems-dele-246dd2\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 72447;\nmodule.exports = webpackAsyncContext;"],"names":["SubmissionParentBreadcrumbResolver","SubmissionParentBreadcrumbsService","WorkspaceitemDataService","ItemFromWorkspaceBreadcrumbResolver","constructor","dataService","breadcrumbService","i0","ɵɵinject","i1","i2","factory","ɵfac","providedIn","inject","SubmissionObjectResolver","itemFromWorkspaceResolver","route","state","workspaceItemService","getFirstCompletedRemoteData","followLink","workspaceItemPageResolver","findById","params","id","pipe","ThemedComponent","WorkspaceItemsDeletePageComponent","ThemedWorkspaceItemsDeletePageComponent","getComponentName","importThemedComponent","themeName","importUnthemedComponent","t","selectors","standalone","features","ɵɵInheritDefinitionFeature","ɵɵStandaloneFeature","ngContentSelectors","_c0","decls","vars","consts","template","ThemedWorkspaceItemsDeletePageComponent_Template","rf","ctx","ɵɵtemplate","ThemedWorkspaceItemsDeletePageComponent_ng_template_0_Template","ɵɵtemplateRefExtractor","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","CommonModule","Location","ActivatedRoute","Router","NgbModal","TranslateModule","TranslateService","map","switchMap","take","RouteService","getRemoteDataPayload","ModifyItemOverviewComponent","NotificationsService","ɵɵelement","ɵɵproperty","ɵɵpipeBind1","ctx_r1","dso$","ɵɵtext","ɵɵlistener","WorkspaceItemsDeletePageComponent_ng_template_12_Template_button_click_4_listener","d_r5","ɵɵrestoreView","_r4","dismiss","ɵɵresetView","WorkspaceItemsDeletePageComponent_ng_template_12_Template_button_click_12_listener","c_r6","close","WorkspaceItemsDeletePageComponent_ng_template_12_Template_button_click_15_listener","ɵɵadvance","ɵɵtextInterpolate","activatedRoute","router","routeService","notificationsService","translationService","location","modalService","ngOnInit","wsi$","data","wsi","dso","previousQueryParameters","getState","previousQueryParams","previousPage","getPreviousUrl","subscribe","url","split","length","param","decodeURIComponent","navigate","queryParams","confirmDelete","content","_this","_asyncToGenerator","open","result","then","sendDeleteRequest","delete","response","hasSucceeded","title","get","success","error","ɵɵdirectiveInject","i3","i4","i5","i6","i7","WorkspaceItemsDeletePageComponent_Template","WorkspaceItemsDeletePageComponent_ds_modify_item_overview_4_Template","WorkspaceItemsDeletePageComponent_Template_button_click_6_listener","_r1","WorkspaceItemsDeletePageComponent_Template_button_click_9_listener","$event","content_r3","ɵɵreference","preventDefault","WorkspaceItemsDeletePageComponent_ng_template_12_Template","TranslatePipe","NgIf","AsyncPipe","styles","authenticatedGuard","i18nBreadcrumbResolver","ThemedFullItemPageComponent","ThemedSubmissionEditComponent","ROUTES","path","redirectTo","pathMatch","resolve","breadcrumb","children","canActivate","component","breadcrumbKey"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}